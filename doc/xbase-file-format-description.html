<HTML>
<HEAD>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
	<meta name="DC.date.current" content="(scheme=ISO31) 1999-04-08">
	<meta name="DC.title" content="Xbase File Format Description">
	<meta name="DC.creator.name" content="Bachmann, Erik">
	<meta name="DC.creator.email" content="e_bachmann@hotmail.com">
	<meta name="DC.creator.postal" content="Grydehøjvej 62, Gundsømagle, DK-4000 Roskilde">
	<meta name="DC.creator.homepage" content="http://www.e-bachmann/docs/xbase.htm">
	<meta name="DC.identifier.url" content="http://www.purl.dk/NET/xbase">
	<meta name="DC.subject" content="Xbase, dBASE, Filformater, File formats">
	<meta name="DC.subject" content="(scheme=DDC) 681.3.07 Indlæsning af data, edb">
	<meta name="DC.description" content="Xbase is a
	complex of data files, indexes and eventually note files for storing large amounts of formatted data in a
	structured form. Xbase is almost compatible with dBASE and is actually a clone of dBASE. The creator of
	dBASE Ashton-Tate (and later Borland) has the copyright for the name dBASE, but NOT the structure. ">
	<meta name="DC.date.creation" content="1998-03-26">
	<meta name="DC.type" content="Faglig information (bog, artikel, film)">
	<meta name="DC.format" content="(scheme=imt) text/html">
	<meta name="DC.language" content="(scheme=NISOZ39.50) ENG">
	<link rel=schema.dc href="element_set.htm" tppabs="http://purl.org/metadata/dublin_core_elements">
   <TITLE>Xbase File Format Description</TITLE>
</HEAD>
<BODY LINK="#0000FF" VLINK="#800080">

<CENTER><A NAME="START"></A></CENTER>

<CENTER><TABLE BORDER=2 CELLPADDING=15 BORDERCOLOR="#000000" >
<TR>
<TD VALIGN=CENTER>
<PRE>

#### #### ######
 ##   ##  ##   ##
  ## ##   ##   ##  ######    ######   #####
   ###    ######        ##  ##       ##   ##
  ## ##   ##   ##  #######  ######## #######
 ##   ##  ##   ## ##    ##        ## ##
#### #### ######   ######## #######   #####
</PRE>
</TD>
</TR>
</TABLE></CENTER>

<P>

<CENTER>Xbase File Format Description</CENTER>

<CENTER></CENTER>

<CENTER>by</CENTER>

<CENTER></CENTER>

<CENTER><A HREF="http://www.e-bachmann.dk/">Erik
Bachmann</A></CENTER>

<CENTER>Clickety Click Software</CENTER>

<CENTER></CENTER>

<CENTER>1999-03-08</CENTER>

<CENTER></CENTER>

<CENTER><A NAME="WHAT_IS"></A></CENTER>

<H1>
<A HREF="#INDEX">WHAT IS XBASE</A></H1>

<DIR>
<DL>
<DT>
<I>"Generic term for the dBASE family of database languages. Coined in
response to threatened litigation over use of the copyrighted trademark
'dBASE'."</I></DT>

<DD>
http://wombat.doc.ic.ac.uk/</DD>
</DL>
</DIR>

<P>Xbase is a complex of data files (.DBF), indexes (NDX, MDX, CDX etc.)
and eventually note files (DBT) for storing large amounts of formatted
data in a structured form.
<P>

The Xbase family of databases is covering the dBase, Clipper, FoxPro,
and their Windows equivalents Visual dBase, Visual Objects, and Visual
FoxPro, plus some older products. All are based on the .DBF file format.

<P>Basically Xbase is three different types of files:
<DIR>
<DL>
<DT>
NN.dbf</DT>

<DD>
Data files</DD>

<DT>
NN.dbt</DT>

<DD>
Memo files (i.e. a separate file containing full text fields)</DD>

<DT>
*.ndx</DT>

<DD>
Index files pointing to a field in the *.dbf</DD>
</DL>
</DIR>
Xbase is almost compatible with dBASE and is actually a clone of dBASE.
The creator of dBASE Ashton-Tate (and later Borland) has the copyright
for the name dBASE, but NOT the structure.
<BR>Therefore the name Xbase (It smells like - but it's not :-) has been
widely used for look-alike data structures.
<BR>There has been an attempt to create a standard for Xbase. I've found
a lot of dead links while searching on Alta Vista's World Wide Web search
engine.

<P>I'm at the moment not aware of the result of the Xbase comity’s work.

<P>Xbase has - like most dBASE clones - it's offspring in the dBASE III+
file structure. I've tried to add all later enhancements as notes to the
structure.

<P>
<HR>

<P><A NAME="INDEX"></A>
<H1>
<A HREF="#INDEX">Index</A></H1>

<UL>
<LI>
<A HREF="#WHAT_IS">What Is Xbase</A></LI>

<LI>
<A HREF="#WHY_THIS">Why This Document</A></LI>

<LI>
<A HREF="#WARNINGS">A few words of concern</A></LI>

<LI>
<A HREF="#DATA_TYPES">What sort of data can be handled</A></LI>

<UL>
<LI>
<A HREF="#FILE_DESC">What do the files look like</A></LI>
</UL>

<P>
Data files:
<LI>
<A HREF="#DBF_STRUCT">The structure of data files (*.dbf)</A></LI>

<LI>
<A HREF="#CHECK_DBF">What to check when opening a .DBF File</A></LI>


<P>Index files:
<LI>
<A HREF="#NDX_STRUCT">The Structure of Index files (*.ndx)</A></LI>

<UL>
<LI>
<A HREF="#NDX_ALGORITH">Search algorithm for index files</A></LI>
</UL>

<LI>
<A HREF="#MDX_STRUCT">The Structure of Multiple Index files (*.mdx)</A></LI>

<LI>
<A HREF="#CDX_STRUCT">The Structure of Compound Index files (*.cdx)</A></LI>

<LI>
<A HREF="#IDX_STRUCT">The Structure of Uncompressed Index files (*.idx)</A></LI>

<LI>
<A HREF="#NTX_STRUCT">The Structure of Clipper Index Files (*.ntx)</A></LI>


<P>Memo/freeform files:
<LI>
<A HREF="#DBT_STRUCT">The Structure of Memo Field Files (*.dbt)</A></LI>

<LI>
<A HREF="#FPT_STRUCT">The Structure of FoxPro Object and Memo Field Files
(*.fpt)</A></LI>

<LI>
<A HREF="#MEM_STRUCT">The Structure of Memmory Files (*.mem)</A></LI>


<P>Features:
<LI>
<A HREF="#REC_LOCK">The Record Lock Field on a dBASE IV Table</A></LI>

<LI>
<A HREF="#REC_LOCK_SHARE">Read/write locks using share</A></LI>

<LI>
<A HREF="#YEAR_2000">Year 2000 problems</A></LI>


<P>dBASE II:
<LI>
<A HREF="#DBII">dBASE II FILES</A></LI>

<LI>
<A HREF="#DBII_DBF_STRUCT">The structure of dBASE II data files (*.dbf)</A></LI>

<LI>
<A HREF="#DBII_NDX_STRUCT">The Structure of dBASE II index file</A></LI>

<P>Examples:

<LI>
<A HREF="#DESC_DBF">Description of test.dbf</A></LI>

<LI>
<A HREF="#DESC_NDX">Description of test.ndx</A></LI>

<LI>
<A HREF="#DESC_DBT">Description of test.dbt</A></LI>

<LI>
<A HREF="#HEX_DBF">Hex dump of test.dbf</A></LI>

<LI>
<A HREF="#HEX_NDX">Hex dump of test.ndx</A></LI>

<LI>
<A HREF="#HEX_DBT">Hex dump of test.dbt</A></LI>

<LI>
<A HREF="#DBASE_SPEC">dBASE Specifications</A></LI>


<P>Appendixes
<LI>
<A HREF="#FILEEXT">List of File extensions</A></LI>

<LI>
<A HREF="#HISTORY">HISTORY</A></LI>

<LI>
<A HREF="#REF_LIST">REFERENCE LIST</A></LI>
</UL>

<HR>

<P><A NAME="WHY_THIS"></A>
<H1>
<A HREF="#INDEX">WHY THIS DOCUMENT</A></H1>
I've been looking for a simple database tool for my work with C programming
and bibliographical database systems. During my investigation of a lot
of BBS's, FTP sites, toolboxes etc. I've discovered at lot of almost-ready-to-fly
Xbase clones. This made me wonder why noone has collected a description
of Xbase files AND made a simple package of C functions to handle this
type of data files.
<BR>THAT was my goal - and THIS is the result.

<P>
<HR>
<TABLE BORDER=0 CELLPADDING=5 BORDERCOLOR="#000000" >
<TR>
<TD VALIGN=CENTER>
<PRE>&nbsp;.----.
((*)(*))
&nbsp;\ /\ /
&nbsp; ####&nbsp;
&nbsp; \__/</PRE>
</TD>

<TD VALIGN=CENTER><B>WARNING ! ! !</B>&nbsp;
<DL>
<DT>
DO *NOT*&nbsp;</DT>

<DD>
attempt to manipulate any critical database files *WITHOUT* making a proper
and validated backup first.&nbsp;</DD>

<DT>
DO *NOT*&nbsp;</DT>

<DD>
access any database files in a multi-user environment!&nbsp;</DD>

<DT>
DO *NOT*</DT>

<DD>
access the files in text mode. Use binary mode only !&nbsp;</DD>
</DL>
</TD>
</TR>
</TABLE>

<HR>

<P>Any comments, corrections, additions etc. are welcome. You can reach
me at: <A HREF="MailTo:e_bachmann@hotmail.com">e_bachmann@hotmail.com</A>
<BR>or by snail mail:
<DIR>
<ADDRESS>
Erik Bachmann</ADDRESS>

<BR>Grydeh&oslash;jvej 62
<BR>DK-4000 Roskilde
<BR>Denmark
<BR>Europe</DIR>
Third stone from the Sun - and turn left :-)

<P>Note! Mispelling an tybingerors are included for freee :-)

<P>
<HR>

<P><A NAME="WARNINGS"></A>
<H1>
<A HREF="#INDEX">A few words of concern</A></H1>

<DL>
<DT>
Binary</DT>

<DD>
Means data is stored in blocks of paired bytes each 8 bits in size. The
bytes are swaped in pairs the Intel way with the low byte value first and
the high byte value last:</DD>

<BR>ABCDEF (ASCII)
<BR>BADCFE (binary)
<DT>
Garbage/Reserved</DT>

<DD>
Some areas in the files are labeled garbage or reserved or not used. These
areas <B>might</B> contain bits and pieces from old files. Check out these
areas (and overwrite them with 00h).</DD>

<BR>You might not want to destribute an old love letter or - as I nearly
did - parts of your check account.
<BR><!---
<DT>
</DT>
<DD>
</DD>
---></DL>

<HR>

<P><A NAME="DATA_TYPES"></A>
<H1>
<A HREF="#INDEX">WHAT SORT OF DATA CAN BE HANDLED</A></H1>
Data files (*.dbf) contains a header with information on the data structure
AND the record themselves. The data field is predefined as carrying data
of a specific type ( Character, Numbers, Longs, Dates, Memo).
<BR>Each data type has its limitations:
<TABLE BORDER=0 CELLSPACING=3 >
<TR VALIGN=TOP>
<TD>C</TD>

<TD>Character</TD>

<TD COLSPAN="3">ASCII text &lt; 254 characters long. Character fields can
be up to 32 KB long (in Clipper and FoxPro) using decimal count as high
byte in field length. It's possible to use up to 64KB long fields by reading
length as unsigned.&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD>N</TD>

<TD>Number</TD>

<TD COLSPAN="3">ASCII text 18 characters long. Number fields can be up
to 20 characters long in FoxPro and Clipper.&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD ROWSPAN="7">L</TD>

<TD ROWSPAN="7">Logical</TD>

<TD COLSPAN="2">Boolean/byte (8 bit) Legal values:&nbsp;</TD>

<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD>?</TD>

<TD>Not initialised (default)</TD>

<TD ROWSPAN="5">&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD>Y,y</TD>

<TD>Yes</TD>
</TR>

<TR VALIGN=TOP>
<TD>N,n</TD>

<TD>No</TD>
</TR>

<TR VALIGN=TOP>
<TD>F,f</TD>

<TD>False</TD>
</TR>

<TR VALIGN=TOP>
<TD>T,t</TD>

<TD>True</TD>
</TR>

<TR VALIGN=TOP>
<TD COLSPAN="2">Logical fields are always displayed using T/F/?. Some sources
claims that space (ASCII 20h) is valid for not initialised.&nbsp;</TD>

<TD>&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD>D</TD>

<TD>Date</TD>

<TD COLSPAN="3">Date in format YYYYMMDD. A date like 0000-00- 00 is *NOT*
valid.&nbsp;</TD>
</TR>

<TR VALIGN=TOP>
<TD>M</TD>

<TD>Memo</TD>

<TD COLSPAN="3">Pointer to ASCII text field in memo file 10 digits representing
a pointer to a DBT block (default is blanks).&nbsp;</TD>
</TR>

<TR>
<TD>F</TD>

<TD>Floating point</TD>

<TD COLSPAN="3">(dBASE IV and later, FoxPro, Clipper) 20 digits&nbsp;</TD>
</TR>

<TR>
<TD>N/A</TD>

<TD>Character name variable</TD>

<TD COLSPAN="3">1-254 characters (64 KB in FoxBase and Clipper)&nbsp;</TD>
</TR>

<TR>
<TD>B</TD>

<TD>Binary</TD>

	<TD COLSPAN="3">
		(dBASE V) Like Memo fields, but not for text processing.&nbsp;
		<P>(FoxPro/FoxBase) Double integer *NOT* a memo field
	</TD>
</TR>

<TR>
<TD>G</TD>

<TD>General</TD>

<TD COLSPAN="3">(dBASE V: like Memo) OLE Objects in MS Windows versions&nbsp;</TD>
</TR>

<TR>
<TD>P</TD>

<TD>Picture</TD>

<TD COLSPAN="3">(FoxPro) Like Memo fields, but not for text processing.&nbsp;</TD>
</TR>


<TR>
	<TD>Y</TD>
	<TD>Currency</TD>
	<TD COLSPAN="3">(FoxPro)</TD>
</TR>

<TR>
	<TD>T</TD>
	<TD>DateTime</TD>
	<TD COLSPAN="3">(FoxPro)</TD>
</TR>

<TR>
	<TD>I</TD>
	<TD>4 byte little endian integer</TD>
	<TD COLSPAN="3">(FoxPro)</TD>
</TR>


</TABLE>
Index files (*.ndx) are sorted references to fields in the data files.
There might be more than one index for each data file.

<P>dBASE III Memo files are primitive 512 byte hunks of ASCII text data
creating a way for text fields to exceed the 255 characters barrier of
ordinary text fields. Other versions may store up till 64 KB of text in
a fixed sized text field. Larger amounts of text (and binary data) is still
stored in memo-like files. The size off the blocks can be user defined
while creating the memo file (see byte 4-7 of the memo file structure).
<TABLE BORDER=0 CELLPADDING=5 BORDERCOLOR="#000000" >
<TR>
<TD VALIGN=CENTER>
<PRE>&nbsp;.----.
((*)(*))
&nbsp;\ /\ /
&nbsp; ####&nbsp;
&nbsp; \__/</PRE>
</TD>

<TD VALIGN=CENTER>Note that memo fields are not fully supported by a majority
of Xbase utilities (incl. dBASE III). You can't export/import records with
memo fields (They are ignored in delimited exports in dBASE III).&nbsp;
<BR>To avoid problems with the priority of fields, put memo fields at the
very end of the record.</TD>
</TR>
</TABLE>

<HR>
<BR><!--- File descriptions ----------------------------------->

<P><A NAME="FILE_DESC"></A>
<H1>
<A HREF="#INDEX">WHAT DO THE FILES LOOK LIKE</A></H1>


<P><BLOCQUOTE>They all look brown to me :-)&nbsp;</BLOCQUOTE>
<BR>All Xbase files have a header describing the structure of the data
in the file.

<P>Schematically they look like this:
<BR><A NAME="DBF_STRUCT"></A>
<H2>
<A HREF="#INDEX">The structure of data files (*.dbf)</A></H2>

<PRE>
    _______________________  _______
 0 | Version number      *1|  ^
   |-----------------------|  |      
 1 | Date of last update   |  |
 2 |      YYMMDD           |  |
 3 |                       |  |
   |-----------------------|  |
 4 | Number of records     | Record
 5 | in data file          | header
 6 | ( 32 bits ) *14       |  |
 7 |                       |  |
   |-----------------------|  |
 8 | Length of header      |  |
 9 | structure ( 16 bits ) |  |
   |-----------------------|  |
 10| Length of each record |  |
 11| ( 16 bits )         *2|  |
   |-----------------------|  |
 12| ( Reserved )        *3|  |
 13|                       |  |
   |-----------------------|  |
 14| Incomplete transac.*12|  |
   |-----------------------|  |
 15| Encryption flag    *13|  |
   |-----------------------|  |
 16| Free record thread    |  |
 17| (reserved for LAN     |  |
 18|  only )               |  |
 19|                       |  |
   |-----------------------|  |
 20| ( Reserved for        |  |            _  |=======================| ______
   |   multi-user dBASE )  |  |           /  0| Field name in ASCII   |  ^ 
   : ( dBASE III+ - )      :  |          /    : (terminated by 00h)   :  |
   :                       :  |         |     |                       |  |
 27|                       |  |         |   10|                       |  |
   |-----------------------|  |         |     |-----------------------| For
 28| MDX flag (dBASE IV) *4|  |         |   11| Field type in ASCII   | each
   |-----------------------|  |         |     |-----------------------| field
 29| Language driver     *5|  |        /    12| Field data address    |  |
   |-----------------------|  |       /       |                     *6|  |
 30| ( Reserved )          |  |      /        | (in memory !!!)       |  |
 31|                     *3|  |     /       15| (dBASE III+)          |  |
   |=======================|__|____/          |-----------------------|  | &lt;-
 32|                       |  |  ^          16| Field length  (binary)|  |   |
   |- - - - - - - - - - - -|  |  |            |-----------------------|  |   | *7
   |                       |  |  |          17| Decimal count (binary)|  |   |
   |- - - - - - - - - - - -|  |  Field        |-----------------------|  | &lt;-
   |                       |  | Descriptor  18| ( Reserved for        |  |
   :. . . . . . . . . . . .:  |  |array     19|   multi-user dBASE)*18|  |
   :                       :  |  |            |-----------------------|  |
n  |                       |__|__v_         20| Work area ID      *16 |  |
   |-----------------------|  |    \          |-----------------------|  |
n+1| Terminator (0Dh)      |  |     \       21| ( Reserved for        |  |
   |=======================|  |      \      22|   multi-user dBASE )  |  |
m  | Database Container    |  |       \       |-----------------------|  |
   :                *15    :  |        \    23| Flag for SET FIELDS   |  |
   :                       :  |         |     |-----------------------|  |
m+263                      |  |         |   24| ( Reserved )          |  |
   |=======================|__v_ ___    |     :                       :  |
   :                       :    ^       |     :                       :  |
   :                       :    |       |   30|                       |  |
   | Record structure      |    |       |     |-----------------------|  |
   |                       |    |        \  31| Index field flag    *8|  |
   |                       |    |         \_  |=======================| _v_____
   |                       | Records
   |-----------------------|    |                                      
   |                       |    |          _  |=======================| _______
   |                       |    |         /  0| Field deleted flag  *9|  ^ 
   |                       |    |        /    |-----------------------|  |
   |                       |    |       /     | Data               *10|  One
   |                       |    |      /      :                    *17: record
   |                       |____|_____/       |                       |  |
   :                       :    |             |                       | _v_____
   :                       :____|_____        |=======================|
   :                       :    |     \       | Field deleted flag  *9|
   |                       |    |      \      |-----------------------|
   |                       |    |       \     |                       |
   |                       |    |        \    |                       |
   |                       |    |         \_  |-----------------------|
   |                       |    |
   |=======================|    |
   |__End_of_File__________| ___v____  End of file ( 1Ah )  *11
</PRE>

<DL>
<DT>
*1</DT>

<DD>
dBASE III+:</DD>

<BR>Also called signature.
<DL>
<DT>
02h</DT>

<DD>
FoxBase.</DD>

<DT>
03h</DT>

<DD>
File without DBT.</DD>

<DT>
30h</DT>

<DD>
Visual FoxPro</DD>

<DT>
83h</DT>

<DD>
File with DBT. i.e. bit 0-3 version, 3-5 SQL, 7 DBT flag</DD>
</DL>

<DD>
dBASE IV:</DD>

<DIR>
<DT>
bit</DT>

<DT>
0-2</DT>

<DD>
Version no.</DD>

<DT>
3</DT>

<DD>
Presence of memo file</DD>

<DT>
4-6</DT>

<DD>
Presence of SQL table</DD>

<DT>
7</DT>

<DD>
DBT flag</DD>
</DIR>
</DL>
Examples:
<DL>
<DL>
<DT>
03h</DT>

<DD>
dBASE III w/o memo file</DD>

<DT>
04h</DT>

<DD>
dBASE IV or IV w/o memo file</DD>

<DT>
05h</DT>

<DD>
dBASE V w/o memo file</DD>

<DT>
83h</DT>

<DD>
dBASE III+ with memo file</DD>

<DT>
F5h</DT>

<DD>
FoxPro w. memo file</DD>

<DT>
8Bh</DT>

<DD>
dBASE IV w. memo</DD>

<DT>
8Eh</DT>

<DD>
dBASE IV w. SQL table</DD>

<DT>
30h</DT>

<DD>
Visual FoxPro w. DBC</DD>

<DT>
7Bh</DT>

<DD>
dBASE IV with memo</DD>
</DL>

<DT>
*2</DT>

<DD>
Sum of lengths of all fields + 1 (deletion flag)</DD>

<DT>
*3</DT>

<DD>
(dBASE IV) Filled with 00h.</DD>

<DT>
*4</DT>

<DL>
<DT>
(dBASE IV) Production index / Multiple index file</DT>

<DL>
<DT>
01h</DT>

<DD>
MDX file present</DD>

<DT>
00h</DT>

<DD>
no MDX file (index upon demand).</DD>
</DL>

<DT>
(FoxBase)</DT>

<DL>
<DT>
01h</DT>

<DD>
CDX compound index file present,</DD>

<DT>
00h</DT>

<DD>
no CDX file.</DD>
</DL>

<DT>
(Visual FoxPro)</DT>

<DL>
<DT>
02h</DT>

<DD>
With memo</DD>

<DT>
04h</DT>

<DD>
Database Container (DBC)</DD>

<DT>
07h</DT>

<DD>
DBC (incl. memo &amp; indexes)</DD>
</DL>
</DL>

<DT>
*5</DT>

<DD>
(Foxpro) Code page:</DD>

<TABLE BORDER=0 CELLSPACING=10 >
<TR>
<TD>01h</TD>

<TD>DOS USA</TD>

<TD>code page 437</TD>
</TR>

<TR>
<TD>02h</TD>

<TD>DOS Multilingual</TD>

<TD>code page 850</TD>
</TR>

<TR>
<TD>03h</TD>

<TD>Windows ANSI</TD>

<TD>code page 1251</TD>
</TR>

<TR>
<TD>C8h</TD>

<TD>Windows EE</TD>

<TD>code page 1250</TD>
</TR>

<TR>
<TD>64h</TD>

<TD>EE MS-DOS</TD>

<TD>code page 852</TD>
</TR>

<TR>
<TD>66h</TD>

<TD>Russian MS-DOS</TD>

<TD>code page 866</TD>
</TR>

<TR>
<TD>65h</TD>

<TD>Nordic MS-DOS</TD>

<TD>code page 865</TD>
</TR>
</TABLE>
&nbsp;</DL>

<DL>
<DT>
*6</DT>

<DD>
(FoxPro) 12-13. offset of field from beginning of record.</DD>

<BR>The field addresss is irellevant for other applications.
<DT>
*7</DT>

<DD>
(FoxPro, Clipper)</DD>

<BR>16-17: Field length for non-numerical fields. Byte 16 is normally field
length (0-255) and byte 17 represents the high byte for field length (256-65535).
<DT>
*8</DT>

<DD>
(dBASE IV) Index field flag:</DD>

<DL>
<DT>
00h</DT>

<DD>
No key for this field (ignored)</DD>

<DT>
01h</DT>

<DD>
Key exists for this field (in MDX)</DD>
</DL>

<DT>
*9</DT>

<DL>
<DT>
2Ah (*)</DT>

<DD>
Record is deleted</DD>

<DT>
20h (blank)</DT>

<DD>
Record is valid</DD>
</DL>

<DT>
*10</DT>

<DD>
There are no field separators for record terminators.</DD>

<DT>
*11</DT>

<DD>
dBASE II regards any End-of-File 1Ah value as the end of the file. dBASE
III regard an End-of-File as an ordinary character, however it appends
an extra End-of-File character at the physical end of the file.</DD>

<BR>If the file is packed the physical size of the file may be larger than
the logical i.e. there may be garbage after the EOF mark
<DT>
*12</DT>

<DD>
(dBASE IV) Incomplete transaction 00h Transaction ended (or rolled back)
01h Transaction started</DD>

<DT>
*13</DT>

<DD>
(dBASE IV) Encryption flag 00h Not encrypted 01h Data encrypted</DD>

<DT>
*14</DT>

<DD>
Stored at binary i.e. value is generated as: byte#1 + (byte#2 * 256) +
(byte#3 * 256&sup2;) + (byte#4 * 256&sup3;) .......</DD>

<DT>
*15</DT>

<DD>
(Visual FoxPro) Database Container (DBC) 263 bytes for backlist. Included
in header structure.</DD>
</DL>

<DT>
*16</DT>

<DD>
Work area ID is 01h in all dBASE III files</DD>

<DT>
*17</DT>

<DD>
An empty memo field has a reference filled with 10 blanks.</DD>
<DT>

*18</DT>

<DD>
(FoxPro/FoxBase) Field Flags:

<DL>
<DT>01h	<DD>System column (not visible to user)
<DT>02h	<DD>Column can store null values
<DT>04h	<DD>Binary colunn (for CHAR and MEMO only)
</DL>

</DD>


<P>
<HR>
<DL>
<DD>
<A NAME="CHECK_DBF"></A></DD>
</DL>

<H3>
<A HREF="#INDEX">What to check when opening a .DBF File</A></H3>


<P>Records:
<UL>
<LI>
Length of record must be > 1 and &lt; max length. (max length = 4000 B
in dBASE III and IV, can be 32KB in other systems).</LI>

<LI>
The number of records must be >= 0.</LI>
</UL>
Fields:
<UL>
<LI>
The .DBF file must have at least one field.</LI>

<LI>
The number of fields must be &lt;= the maximum allowable number of fields.</LI>
</UL>


<P>File size:
<UL>
<LI>
File size reported by the operating system must match the logical file
size. Logical file size = ( Length of header + ( Number of records * Length
of each record ) )</LI>
</UL>

<HR>

<P><A NAME="NDX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Index files (.ndx)</A></H2>


<P>The index file is a B+ tree - at least according to most description
- but it's more clearly decribed as a paged B-tree.
<BR>The essential structure is in an inverted tree, with an anchor note,
multiple root nodes, and leaf nodes. The header is called the anchor node.

<P>
<HR>
<TABLE BORDER=0 >
<TR>
<TD>
<PRE>&nbsp;____
/&nbsp;&nbsp;&nbsp; \
\&nbsp;&nbsp;&nbsp; /
&nbsp;\&nbsp; /
&nbsp; \/
&nbsp;|__|</PRE>
</TD>

<TD>Normally the header is read once only by the application, when the
file is opened.&nbsp;</TD>
</TR>
</TABLE>

<HR>

<P>The size of a page is ( as far as I know ) always 512 bytes.
<PRE>    _______________________  _______
 0 | Starting page no      |  ^
 1 |                   *1  |  |
 2 |                       |  |
 3 |                       |  |
   |-----------------------|  |
 4 | Total no of pages     | File
 5 |                       | header
 6 |                       |  |
 7 |                       | (page 0)
   |-----------------------|  |
 8 | (Reserved)            |  |
 9 |                       |  |
10 |                       |  |
11 |                       |  |
   |-----------------------|  |
12 | Key length            |  |
13 |                       |  |
   |-----------------------|  |
14 | No of keys per page   |  |
15 |                       |  |
   |-----------------------|  |
16 | Key type: 0 = char    |  |
17 |           1 = Num     |  |
   |-----------------------|  |
18 | Size of key record  *2|  |
19 |                       |  |

20 |                       |  |
21 |                       |  |
   |-----------------------|  |
22 | (Reserved)            |  |
   |-----------------------|  |
23 | Unique flag           |  |
   |-----------------------|  |
24 | String defining the   |  |
   | key                   |  |
   :                       :  |
   :                       :  |
   :                       :  |
511|                       |  |
   |=======================| _v____
  0| No of valid entries   |  ^           __  |=======================|
  1| on current page       |  |          /   0| Pointer to lower level|
  2|                       |  |         /    1| (next page)           |
  3|                       |  |        /     2|                       |
   |-----------------------|  |       /      3|                       |
  4|                       |  |      /        |-----------------------|
   | Array of key entries  | _|_____/        4| Record number in      |
   |                       |  |              5| data file             |
   |                       | Page            6|                       |
   |                       |  |              7|                       |
   |                       |  |               |-----------------------|
   |                       | _|_____         8| Key data  *3          |
   :.......................:  |     \         :                       :
   :.......................:  |      \       N|                       |
511|                       |  |       \_____  |=======================|
   |=======================| _v_____
  0|                       |  |
   | No of valid entries   |  |
   | on current page       |  |
  3|                       | Page
   |-----------------------|  |
   | Array of key entries  |  |
   :.......................:  |
   :.......................:  |
511|:                      |  |
   |=======================| _v_____</PRE>

<DL>
<DT>
*1</DT>

<DD>
Root page number's offset is: page number * 512 bytes</DD>

<DT>
*2</DT>

<DD>
Size of key record is a multiplum of 4. Record size is 4 (Pointer to next
page) + 4 (record number i dbf) + key size ( as a multiplum of 4 ). i.e.
if the key size is 10, the record size is 20 (4+4+12)</DD>

<DT>
*3</DT>

<DD>
Numbers are stored as IEEE doubles (binary values).</DD>
</DL>

<HR>
<PRE><A NAME="NDX_ALGORITH"></A></PRE>

<H3>
<A HREF="#INDEX">Search algorithm for index files</A></H3>

<OL>
<LI>
The anchor node always resides in memory, while the file is open and determines
which root node to access for at given key.</LI>

<LI>
The root node is read and sequentially scanned until a key is found that
is >= to the desired key.</LI>

<LI>
A second-level node is accessed and scanned in a manner similar to the
root node.</LI>

<LI>
The process continues until the pointer to the next-lower-level node has
a value of zero. If the key matches the leaf key at this level, the record
number for the key is returned.</LI>

<BR>That's a discipline NOT to be discussed here :-) Way out of the scope
fore this document and way too complex.</OL>


<P>One of the advances of the B+ tree is that the higher levels of the
tree does not have to be updated when a certain node is changed - unless
the tree has become unbalanced.
<TABLE BORDER=0 CELLPADDING=5 WIDTH="624" BORDERCOLOR="#000000" >
<TR>
<TD>
<PRE>&nbsp;____
/&nbsp;&nbsp;&nbsp; \
\&nbsp;&nbsp;&nbsp; /
&nbsp;\&nbsp; /
&nbsp; \/
&nbsp;|__|</PRE>
</TD>

<TD>If the data or index files are corrupt you may get a "DISK FULL" error.
The program can not read the EOF marker and therefore assumes that the
disk is full. Check you file and make sure there is no garbage in it, also
re-index your files.&nbsp;</TD>
</TR>
</TABLE>
<!--------------------------------------------------------------------->

<P>
<HR>
<BR><A NAME="MDX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Multiple Index files (*.mdx)</A></H2>

<PRE><!---
File header
  |
  |___ Unused pages
  |      |___ ...
  |
  |___ Tag table
  |      |___Tag header
  |            |___ Root page
  |                   |___ Next ...
  |                   |___ Prev ...
  |
  |___ Tag table
  |      |___Tag header
  |            |___ Root page
  |                   |___ Next ...
  |                   |___ Prev ...
  |
  |
  V
--->
    _______________________  _______
 0 | Version number      *1|  ^
   |-----------------------|  |      
 1 | Date of creation      |  |
 2 |      YYMMDD           |  |
 3 |                       |  |
   |-----------------------|  |
 4 | Data file name        | File
 5 | (no extension)        | Header
   :                       :  |
   :                       :  |
19 |                       |  |
   |-----------------------|  |
20 | Block size            |  |
   |                       |  |
   |-----------------------|  |
22 | Block size adder N    |  |
   |                       |  |
   |-----------------------|  |
24 | Production index flag |  |
   |-----------------------|  |
25 | No. of entries in tag |  | *2
   |-----------------------|  |
26 | Length of tag         |  | *3
   |-----------------------|  |
27 | (Reserved)            |  |
   |-----------------------|  |
28 | No.of tags in use     |  |
   |                       |  |
   |-----------------------|  |
30 | (Reserved)            |  |
   |                       |  |
   |-----------------------|  |
32 | No.of pages in tagfile|  |
   |                       |  |
   |                       |  |
35 |                       |  |
   |-----------------------|  |
36 | Pointer to first free |  |
   | page                  |  |
   |                       |  |
39 |                       |  |
   |-----------------------|  |
40 | No.of block available |  |
   |                       |  |
   |                       |  |
43 |                       |  |
   |-----------------------|  |
44 | Date of last update   |  |
   |      YYMMDD           |  |
46 |                       |  |
   |-----------------------|  |
47 | (Reserved)            |  |
   |-----------------------|  |
48 | (Garbage)             |  |
   :                       :  |
   :                       :  |
   |                       |  |        ___|=======================|
543|                       | _V___    / 0 | Tag header page no.   |
   |-----------------------|  |      /    |                       |
544| Tag table entries     | Tag    /     |                       |
   |                       | Table |    3 |                       |
   :.......................:  |    |      |-----------------------| Tag
   :                       :  |    |    4 | Tag name              | table
   :.......................:  |    |      :                       :
   :                       :  |   /       :                       :
   :                       :  |  /        |                       |
   :.......................:__|_/      14 |                       |
   :                       :  |           |-----------------------|
   :                       :  |        15 | Key format         *4 |
   :                       :  |           |-----------------------|
   :.......................:__|_       16 | Forward tag thread (&lt;)|
   :                       :  | \         |-----------------------|
   :                       :  |  \     17 | Forward tag thread (>)|
   :                       :  |   \       |-----------------------|
   :                       :  |    |   18 | Backward tag thread *5|
   |                       |  |    |      |-----------------------|
   |                       |  |    |   19 | (Reserved)            |
M*N|                       |__V__  |      |-----------------------|
   |=======================|  ^    |   20 | Key type           *6 |       
  0| Pointer to root page  |  |    |      |-----------------------|
   |                       |  |    |   21 | (Reserved)            |
   |                       |  |    |      :                       :
  3|                       |  |    |      :                       :
   |-----------------------|  |    |   31 |                       |
  4| File size in pages    | Tag   |      |-----------------------|
   |                       | header|   32 | (Garbage)             |
   |                       |  |    |      :                       :
  7|                       |  |    |      |                       |
   |-----------------------|  |     \  N  |                       |
  8| Key format         *7 |  |      \____|=======================|
   |-----------------------|  |
  9| Key type           *8 |  |
   |-----------------------|  |
 10| (Reserved)            |  |
   |                       |  |
   |-----------------------|  |
 12| Index key length   *9 |  |
   |                       |  |
   |-----------------------|  |
 14| Max.no.of keys/page   |  |
   |                       |  |
   |-----------------------|  |
 16| Secondary key type *10|  |
   |                       |  |
   |-----------------------|  |
 18| Index key item length |  |
   |                       |  |
   |-----------------------|  |
 20| (Reserved)            |  |
   |                       |  |
   |                       |  |
   |-----------------------|  |
 23| Unique flag           |  |
   |-----------------------|  |
   |                       |  |
   :                       :  |
   :                       :__V__
N*M|=======================|</PRE>

<DL>
<DT>
1</DT>

<DT>
2</DT>

<DD>
Number of entries in tag table. Max no. is 48 (30h)</DD>

<DT>
3</DT>

<DD>
Length of each tag table entry. Max is 32 (20h).</DD>

<DT>
4</DT>

<DL>
<DT>
00h</DT>

<DD>
Calculated</DD>

<DT>
10h</DT>

<DD>
Data field</DD>
</DL>

<DT>
5</DT>

<DD>
Previous tag</DD>

<DT>
6</DT>

<DL>
<DT>
C</DT>

<DD>
Character</DD>

<DT>
N</DT>

<DD>
Numerical</DD>

<DT>
D</DT>

<DD>
Date</DD>
</DL>

<DT>
7</DT>

<DL>
<DT>
00h</DT>

<DD>
Right, left, dtoc</DD>

<DT>
08h</DT>

<DD>
Decending order</DD>

<DT>
10h</DT>

<DD>
Fields , string</DD>

<DT>
40h</DT>

<DD>
Unique keys</DD>
</DL>

<DT>
8</DT>

<DL>
<DT>
C</DT>

<DD>
Character</DD>

<DT>
N</DT>

<DD>
Numerical</DD>

<DT>
D</DT>

<DD>
Date</DD>
</DL>

<DT>
9</DT>

<DL>
<DT>
Numeric</DT>

<DD>
Length is 12</DD>

<DT>
Date</DT>

<DD>
Length is 8</DD>

<DT>
Character</DT>

<DD>
Length is &lt;= 100 bytes and <B>not</B> NULL terminated</DD>
</DL>

<DT>
10</DT>

<DL>
<DT>
0</DT>

<DD>
Character/numerical (db4), Character (db3)</DD>

<DT>
1</DT>

<DD>
Date (db4) Numerical/date (db3)</DD>
</DL>
</DL>
<!--------------------------------------------------------------------->

<P>
<HR>
<BR><A NAME="CDX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Compound Index files (*.cdx)</A></H2>
by <B>David Kuechler</B> (<A HREF="MailTo:71202.1315@CompuServe.COM">71202.1315@CompuServe.COM</A>)

<P>A CDX is a compact IDX. The initial IDX contains one key per tag. The
key is 10 byte character string which is the tag name. The record number
stored with the key is the offset to the root page for that tag.
<TABLE BORDER=0 >
<TR>
<TD>
<PRE>&nbsp;____
/&nbsp;&nbsp;&nbsp; \
\&nbsp;&nbsp;&nbsp; /
&nbsp;\&nbsp; /
&nbsp; \/
&nbsp;|__|</PRE>
</TD>

<TD>There is no description on the compression algorithm&nbsp;</TD>
</TR>
</TABLE>
A compact IDX has the following structure:
<PRE>    _______________________  _______
  0 | Pointer to root node  |  ^
  1 |                       |  |
  2 |                       |  |
  3 |                       |  |
    |-----------------------|  |
  4 | Pointer to free list  | File
  5 | (-1 if empty)         | header
  6 |                       |  |
  7 |                  *8   | (page 0)
    |-----------------------|  |
  8 | Version no.      *10  |  |
  9 |                       |  |
 10 |                       |  |
 11 |                       |  |
    |-----------------------|  |
 12 | Key length            |  |
 13 |                  *9   |  |
    |-----------------------|  |
 14 | Index options *1      |  |
    |-----------------------|  |
 15 | Index Signature       |  |
    |-----------------------|  |
 16 | (Reserved)            |  |
 17 |                       |  |
    : (Currently all NULL's):  |
    :                       :  |
    :                       :  |
 501|                       |  |
    |-----------------------|  |
 502| Sort order *2         |  |
 503|                       |  |
    |-----------------------|  |
 504| Total expression      |  |
 505| length (FoxPro 2)     |  |
    |-----------------------|  |
 506| FOR expression length |  |
 507| (binary)              |  |
    |-----------------------|  |
 508| (Reserved)            |  |
 509|                       |  |
    |-----------------------|  |
 510| Key expression length |  |
 511| (binary)              |  |
    |=======================| _v____
 512| Key &amp; FOR expression  |  ^
 513|            *3         |  |
    :                       :  |
    :                       :  |
1023|                       |  |
    |=======================| _v____
  0 | Node attributes *4    |  ^
  1 |                       |  |
    |-----------------------|  |
  2 | Number of keys        |  |
  3 |                       |  |
    |-----------------------| Non
  4 | Pointer to left       | leaf
  5 | brother node          | page
  6 | (-1 if no left node)  |  |
  7 |                       | (compressed)
    |-----------------------|  |
  8 | Pointer to right      |  |
  9 | brother node          |  |
 10 | (-1 if no right node) |  |
 11 |                       |  |
    |-----------------------|  |
 12 |                       |  |
    |                       |  |           __  |=======================|
    |                       |  |          /    | Key data              |
    |                       | NON        /     :                       :
    |                       | leaf      /      :                       :
    |                       | page     /       |                       |
    |                       |  |      /        |-----------------------|
    | Array of key entries  | _|_____/        M| Record number in      |
    |                       |  |               | data file             |
    |                       |  |               | (high order byte      |
    |                       |  |              N|  first)               |
    |                       |  |               |-----------------------|
    |                       | _|_____         m| Pointer to child page |
    :.......................:  |     \         |                       |
    :.......................:  |      \        |                       |
    :.......................:  |       \      n|                       |
 511|                       |  |        \____  |=======================|
    |=======================| _v_____
  0 | Node attributes *4    |  ^
  1 |                       |  |
    |-----------------------|  |
  2 | Number of keys        |  |
  3 |                       |  |
    |-----------------------|  |
  4 | Pointer to left       | Leaf
  5 | brother node          | page
  6 | (-1 if no left node)  |  |
  7 |                       | (compressed)
    |-----------------------|  |
  8 | Pointer to right      |  |
  9 | brother node          |  |
 10 | (-1 if no right node) |  |
 11 |                       |  |
    |-----------------------|  |
 12 | Free space available  |  |
 13 | in page               |  |
    |-----------------------|  |
 14 | Record number mask    |  |
 15 |                       |  |
 16 |                       |  |
 17 |                       |  |
    |-----------------------|  |
 18 | Duplicate count mask  |  |  *11
    |-----------------------|  |
 19 | Trailing byte count mask |  *11
    |-----------------------|  |
 20 |*5 record no           |  |
    |-----------------------|  |
 21 |*5 duplicate count     |  |
    |-----------------------|  ^           __  |=======================|
 22 |*5 trailing count      |  |          /   0| Recno/supCount/       |
    |-----------------------| Leaf       /    1| TrailCount            |
 23 |*6 holding record no   | page      /     2| *7)                   |
    |-----------------------|  |       /      3|                       |
 24 |                       |  |      /        |-----------------------|
    | Array of key entries  | _|_____/        4| Record number in      |
    |                       |  |              5| data file             |
    |                       |  |              6|                       |
    |                       |  |              7|                       |
    |                       |  |               |-----------------------|
    |                       | _|_____         8| Key data              |
    :.......................:  |     \         :                       :
    :.......................:  |      \       N|                       |
 511|                       |  |       \_____  |=======================|
    |=======================| _v_____</PRE>

<DL>
<DT>
*1)</DT>

<DD>
Index options represented as the sum of the following values:</DD>

<DL>
<DT>
01</DT>

<DD>
Unique index</DD>

<DT>
08</DT>

<DD>
FOR clause</DD>

<DT>
16 (10h)</DT>

<DD>
Bit vector (SoftC)</DD>

<DT>
32 (20h)</DT>

<DD>
Compact index format (FoxPro)</DD>

<DT>
64 (40h)</DT>

<DD>
Compounding index header (FoxPro)</DD>

<DT>
128 (80h)</DT>

<DD>
Structure index (FoxPro)</DD>
</DL>

<DT>
*2)</DT>

<DL>
<DT>
0</DT>

<DD>
Ascending</DD>

<DT>
1</DT>

<DD>
Descending</DD>
</DL>

<DT>
*3)</DT>

<DD>
Key first with null terminator, then FOR expression.</DD>

<DT>
4)</DT>

<DD>
Node attributes represented as the sum of the following values:</DD>

<DL>
<DT>
0</DT>

<DD>
Interior node (branch)</DD>

<DT>
1</DT>

<DD>
Root page</DD>

<DT>
2</DT>

<DD>
Leaf page</DD>
</DL>

<DT>
5)</DT>

<DL>
<DT>
Byte 020</DT>

<DD>
Number of bits for record number</DD>

<DT>
Byte 021</DT>

<DD>
Number of bits for duplicate count</DD>

<DT>
Byte 022</DT>

<DD>
Number of bits for trailing count</DD>
</DL>

<DT>
6)</DT>

<DL>
<DT>
Byte 023:</DT>

<DD>
Number of bytes holding record number, duplicate count &amp; trailing count
(i.e. the total size of values in byte 20 - 22).</DD>
</DL>

<DT>
7)</DT>

<DD>
At the start of this area, the recno/dupCount/trailCount is stored (bit
compressed). Each entry requires the number of bytes as indicated by byte
023.</DD>


<P>The key values are placed at the end of this area (working backwards)
and are stored by eliminating any duplicates with the previous key and
any trailing blanks.
<DT>
8)</DT>

<DL>
<DT>
-1</DT>

<DD>
if none (FoxPro)</DD>

<DT>
0</DT>

<DD>
if none (FoxBase)</DD>
</DL>

<DT>
9)</DT>

<DD>
Number and date keys are 8 bits long . Character keys are &lt;= 100 bytes
long.</DD>

<BR>Note! Character keys are <B>NOT</B> terminated with 00h
<DL>
<DT>
-1</DT>

<DD>
if none (FoxPro)</DD>

<DT>
0</DT>

<DD>
if none (FoxBase)</DD>
</DL>

<DT>
10)</DT>

<DD>
(Foxbase, FoxPro 1.x) No. of pages in file.</DD>

<BR>(FoxPro 2.x) Reserved.
<DT>
11)</DT>

<DD>
The individual list must be ANDed with these masks in order to calculate
the original index.</DD>
</DL>

<H3>
Other Notes on CDX</H3>
Dates are stored as Julian dates and converted to numbers

<P>Numbers are stored as IEEE doubles (binary values) with the following
conversion:
<UL>
<LI>
Convert to an IEEE double (8 bytes)</LI>

<LI>
Swap the order of the bytes</LI>

<LI>
IF the number was negative:</LI>

<UL>
<LI>
Invert all the bits</LI>
</UL>
ELSE
<UL>
<LI>
Invert only the highest order bit</LI>
</UL>
</UL>
The advantage of this storage format is it allows numbers to be compared
directly using memcmp().&nbsp;<!--------------------------------------------------------------------->

<P>
<HR>
<BR><A NAME="IDX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Uncompressed Index files (*.idx)</A></H2>

<PRE>    _______________________  _______
  0 | Pointer to root node  |  ^
  1 |                       |  |
  2 |                       |  |
  3 |                       |  |
    |-----------------------|  |
  4 | Pointer to free list  | File
  5 | (-1 if empty)         | header
  6 |                       |  |
  7 |                  *3   | (page 0)
    |-----------------------|  |
  8 | Pointer to EOF        |  |
  9 |                       |  |
 10 |                       |  |
 11 |                       |  |
    |-----------------------|  |
 12 | Key length            |  |
 13 |                  *4   |  |
    |-----------------------|  |
 14 | Index options *1      |  |
    |-----------------------|  |
 15 | Index Signature       |  |
    |-----------------------|  |
 16 | Key expression        |  |
 17 |                       |  |
    :                       :  |
    :                       :  |
 235|                       |  |
    |-----------------------|  |
 236| FOR expression        |  |
    |                       |  |
    :                       :  |
    :                       :  |
 455|                       |  |
    |-----------------------|  |
 456| (Reserved)            |  |
    |                       |  |
    :                       :  |
    :                       :  |
 511|                       |  |
    |=======================| _v____
  0 | Node attributes *2    |  ^
  1 |                       |  |
    |-----------------------|  |
  2 | Number of keys        |  |
  3 |                       |  |
    |-----------------------| Non
  4 | Pointer to left       | leaf
  5 | brother node          | page
  6 | (-1 if no left node)  |  |
  7 |                       | (compressed)
    |-----------------------|  |
  8 | Pointer to right      |  |
  9 | brother node          |  |
 10 | (-1 if no right node) |  |
 11 |                       |  |
    |-----------------------|  |
 12 |                       |  |
    |                       |  |           __  |=======================|
    |                       |  |          /   M| Key data              |
    |                       | NON        /     :                       :
    :                       : leaf      /      :                       :
    :                       : page     /      N|                       |
    :                       :  |      /        |-----------------------|
    | Array of key entries  | _|_____/        O| Record number in      |
    |                       | _|______         | data file             |
    |                       |  |      \        | (high order byte      |
    |                       |  |       \    O+4|  first)               |
 511|                       |  |        \____  |=======================|
    |=======================| _v_____</PRE>

<DL>
<DT>
*1)</DT>

<DD>
Index options represented as the sum of the following values:</DD>

<DL>
<DT>
01</DT>

<DD>
Unique index</DD>

<DT>
08</DT>

<DD>
FOR clause</DD>

<DT>
16 (10h)</DT>

<DD>
Bit vector (SoftC)</DD>

<DT>
32 (20h)</DT>

<DD>
Compact index format (FoxPro)</DD>

<DT>
64 (40h)</DT>

<DD>
Compounding index header (FoxPro)</DD>

<DT>
128 (80h)</DT>

<DD>
Structure index (FoxPro)</DD>
</DL>

<DT>
2)</DT>

<DD>
Node attributes represented as the sum of the following values:</DD>

<DL>
<DT>
0</DT>

<DD>
Index node</DD>

<DT>
1</DT>

<DD>
Start page</DD>

<DT>
2</DT>

<DD>
End page</DD>
</DL>

<DT>
3)</DT>

<DL>
<DT>
-1</DT>

<DD>
if none (FoxPro)</DD>

<DT>
0</DT>

<DD>
if none (FoxBase)</DD>
</DL>

<DT>
4)</DT>

<DD>
Number and date keys are 8 bits long . Character keys are &lt;= 100 bytes
long.</DD>

<BR>Note! Character keys are <B>NOT</B> terminated with 00h
<DL>
<DT>
-1</DT>

<DD>
if none (FoxPro)</DD>

<DT>
0</DT>

<DD>
if none (FoxBase)</DD>
</DL>
</DL>
<!--------------------------------------------------------------------->
<HR>

<P><A NAME="NTX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Clipper Index files (*.ntx)</A></H2>


<P>The CA-Clipper index file is a modified B+ tree. The size of a page
is 1024 bytes. The first page is the header:
<PRE>     _______________________  _______
 0  | Signature byte        |  ^
 1  | (binary)              |  | *9
    |-----------------------|  |
 2  | Indexing version no.  |  |
 3  | (Compiler version)    |  |
    |-----------------------|  |
 4  | Offset in file for    | File
 5  | first index page.     | header
 6  | (root)                |  |
 7  |                       | (page 0)
    |-----------------------|  |
 8  | Offset to an unused   |  | *11
 9  | next key page.        |  |
10  |                       |  |
11  |                       |  |
    |-----------------------|  |
12  | Key size + 8 bytes    |  | *1
13  |                       |  |
    |-----------------------|  |
14  | Key size              |  |
15  |                       |  |
    |-----------------------|  |
16  | No. of decimals in    |  |
17  | key                   |  |
    |-----------------------|  |
18  | Max. item             |  | *6
19  |                       |  |
    |-----------------------|  |
20  | Half page             |  | *7
21  |                       |  |
    |-----------------------|  |
22  | Key expression.       |  | *8
23  | (NULL terminated)     |  |
    :                       :  |
277 |                       |  |
    |-----------------------|  |
278 | Unique index flag     |  | *3
    |-----------------------|  |
279 | (Unused)              |  |
    :                       :  |
    :                       :  |
1023|                       |  |
    |=======================| _v_____
   0| Address of next empty |    ^
   1| page *11              |    |
   2|                       |    |
   3|                       |    |
    |-----------------------|   Empty page
    : (Reserved)            |   (in linked list)
    :                       |    |
    :                       |    |
1023:                       |    |
    |=======================| ___V___
    | No. of used entries   |    |
    | on current page (N)   |    |
    |-----------------------|   Used
    | Array of N unsigned   |   page
    : longs   *5            :    |
    :                       :    |
    |-----------------------|    |
    | Array of index        |    |
    : entries               :    |
    :                       :    |         __  |=======================|
    :                       :    |        /   0| Address of left page  | *4
    |                       |    |       /    1| in tree               |
    |                       |    |      /     2|                       |
    |                       |    |     /      3|                       |
    |=======================| ___|____/        |-----------------------|
    |  Array of index       |    |            4| Record no. in DBF     |
    :                       :    |            5|                       |
    :                       :    |            6|                       |
    :                       :    |            7|                       |
    :                       :    |             |-----------------------|
    :                       :    |            8| Key field             |
    :                       : ___|____         :                       :
    |=======================|    |    \       N|                       |
    |                       |    |     \_____  |=======================|
    :                       :    |
    |__End_of_File__________| ___v____  End of file ( 1Ah )</PRE>

<DL>
<DT>
*1</DT>

<DD>
Distance between key pages. size + 2 longs.</DD>

<DT>
*2</DT>

<DD>
The first, or root page of an indes has a minimum of 1 entry regardless
of this value.</DD>

<DT>
*3</DT>

<DL>
<DT>
1</DT>

<DD>
Unique</DD>

<DT>
0</DT>

<DD>
NOT unique</DD>
</DL>

<DT>
*4</DT>

<DD>
This number will be between the minimum (half page) and maximum (max. item)
defined in the header unless it is the root page.</DD>

<DT>
*5</DT>

<DD>
The array length is equal to the maximum number of key entries per page
+1. Value 00h = No record. Other values: Record offset from start of page</DD>
</DL>

<DT>
*6)</DT>

<DD>
The maximum number of keys (with their pointers) that can fit on an index
page.</DD>

<DT>
*7</DT>

<DD>
The maximum number of keys that can fit on an index page, divided by two.
This is an important value in a B-tree system as it is the minimum number
of keys that must be on a page.</DD>

<DT>
*8</DT>

<DD>
The actual expression on which the index was built. It is a NULL terminated
string with at max length of 256 bytes.</DD>

<DT>
*9</DT>

<TABLE BORDER=0 >
<TR>
<TD>0003h</TD>

<TD>Clipper 87</TD>
</TR>

<TR>
<TD>0006h</TD>

<TD>Clipper 5.x</TD>
</TR>
</TABLE>

<DT>
*10</DT>

<DD>
This is a reference to the first page in a linked list of empty pages in
beteen valid data.</DD>

<DT>
*11</DT>

<DD>
Address 00 00 00 00h is the last empty page in chain.</DD>

<BR><!--------------------------------------------------------------------->

<P>
<HR>

<P><A NAME="DBT_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Memo Field Files (*.dbt)</A></H2>

<H3>
dBASE III+</H3>

<PRE>    _______________________  _______
 0 | Number of next        |  ^  ^
 1 | available block       |  |  |
 2 | for appending data    |  | Header
 3 | (binary)              |  |  |
   |-----------------------| _|__v__
 4 | ( Reserved )          |  |    
   |                       |  |
   |                       |  |
 7 |                       |  |
   |-----------------------|  |
 8 | ( Reserved )          |  |    
   :                       :  |
15 |                       |  |
   |-----------------------|  |
16 | Version no.  (03h)    |  |
   |-----------------------|  |
17 | (i.e. garbage)        |  |
   :                       : First block
   :                       :  |    
511|                       |  |    
   |=======================| _v_____
512|                       |  ^    
   |                       |  |
   |                       | 512 Bytes
   |                       | text blocks
   :                       :  |
   :                       :  |
   |                       |  |
   |-----------------------| _|_____
   | Field terminator (1Ah)|  |  ^
   |-----------------------|  |  |Terminating field
   | Field terminator (1Ah)|  |  |within the block *1
   |-----------------------| _|__v__
   : ( Unused )            :  |
1023                       :  |
   |=======================| _v_____
   |                       |  ^
   |                       |  |
   |                       | 512 Bytes
   |                       | text blocks
   :                       :  |
   :                       :  |
   |                       |  |
   |                       | _v_____
   |=======================|</PRE>

<DL>
<DT>
*1)</DT>
<DD>
(FoxPro, Fox??) Is reported to use only one field terminator (1Ah).</DD>
</DL>

A memo field can be longer than the 512 byte block. It simply continues
through the next block. The field is logically terminated by two End-of-file
marks in the field. The reminder of the block is unused.
<TABLE BORDER=0 >
<TR>
<TD>
<PRE> ____
/    \
\    /
 \  /
  \/
 |__|</PRE>
</TD>

<TD>Every time you re-write a memo field to the memo file in dBASE the
field is APPENDED to the memo file (i.e. the file expands for each update).
dBASE V for DOS (and perhaps others) may reuse the space from the deleted
text, if memo size &lt;= allocated number of block in dbt file.&nbsp;</TD>
</TR>
</TABLE>
The Memo file itself tells nothing about it's use. You need the corresponding
DBF file to interpret the content of the memo file. Many of the clones
and dBASE 5 have binary elements stored in the memo file marked with file
type B or G.
<H3>
dBASE IV</H3>

<PRE>    _______________________
 0 | Number of next        |  ^
 1 | available block       |  |
 2 | for appending data    | Header
 3 | (binary)              |  |
   |-----------------------|  |
 4 | ( Reserved )          |  |    
   | Size of blocks     *1 |  |
   |                       |  |
 7 |                       |  |
   |-----------------------|  |
 8 | DBF file name         |  |    
   |                       |  |
   :                       :  |
15 |                       |  |
   |-----------------------|  |
16 | Reserved   (00h)      |  |
   |-----------------------|  |
17 | ( Reserved )          |  |
18 |                       |  |
19 |                       |  |
   |-----------------------|  |
20 | Block length          |  |
21 |                       |  |
   |-----------------------|  |
22 | ( Reserved )          |  |
   |                       |  |
   | (i.e. garbage)        |  |
   :                       :  |
   :                       :  |    
511|                       |  |    
   |=======================| _v_____
  1|                       |  ^                 Used block
   |                       |  ^           __  |=======================|
   |                       |  |          /   0| ( Reserved )          |
   :                       :  |         /    1|                       |
   :                       :  |        /     2|  FFh FFh 08h 00h      |
   |                       |  |       /      3|                       |
511|                       |  |      /        |-----------------------|
   |=======================| _|_____/        4| Length of memo field  |
  1|                       |  |              5|                       |
   :                       :  |              6|                       |
   :                       :  |              7|                       |
   |                       |  |               |-----------------------|
511|                       | _|_____         8| Memo data        *2   |
   |=======================|  |     \         :                       :
   |                       |  |      \       N|                       |
   |                       |  |       \_____  |=======================|
   |                       |  |
   |                       | 512 Bytes
   |                       | text blocks
   :                       :  |
   :                       :  |                 Unused block
   :                       :  |           __  |=======================|
   :                       :  |          /   0| Pointer to next free  |
   :                       :  |         /    1| block                 |
   :                       :  |        /     2|                       |
   |                       |  |       /      3|                       |
511|                       |  |      /        |-----------------------|
   |=======================| _|_____/        4| Pointer to next used  |
  1|                       |  |              5| block                 |
   :                       :  |              6|                       |
   :                       :  |              7|                       |
   |                       |  |               |-----------------------|
511|                       | _|_____         8| ( Reserved )          |
   |=======================|  |     \         :                       :
  1|                       |  |      \       N|                       |
   |                       |  |       \_____  |=======================|
   |                       |  |
   :                       :  |
   |                       |  |
   |-----------------------| _|_____
   | Field terminator (1Ah)|  |  ^
   |-----------------------|  |  |Terminating field
   | Field terminator (1Ah)|  |  |within the block *3
   |-----------------------| _|__v__
   : ( Unused )            :  |
511|                       :  |
   |=======================| _v_____
   |                       |  ^
   |                       |  |
   |                       | 512 Bytes
   |                       | text blocks
   :                       :  |
   :                       :  |
   |                       |  |
   |                       | _v_____
   |=======================|</PRE>

<DL>
<DT>
*1)</DT>

<DD>
(FoxBase, dBASE IV ??) Size of blocks in memo file (SET BLOCKSIZE). Default
is 512 bytes.</DD>

<DT>
*2)</DT>

<DD>
End of text mark is <B>0Dh 0Ah</B> and line breaks are <B>8Dh 0Ah</B></DD>

<DT>
*3)</DT>
<DD>
(FoxPro, Fox??) Is reported to use only one field terminator (1Ah).</DD>

</DL>
A memo field can be longer than the 512 byte block. It simply continues
through the next block. The field is logically terminated by two End-of-file
marks in the field. The reminder of the block is unused.

<P>
<HR>

<P>
<HR>
<TABLE BORDER=0 >
<TR>
<TD>
<PRE>&nbsp;.----.
((*)(*))
 \ /\ /
  ####
  \__/</PRE>
</TD>

<TD><B>WARNING ! ! !</B>&nbsp;
<DL>
<DT>
DO *NOT*&nbsp;</DT>

<DD>
attempt to treat these binary data as simple text ! ! !&nbsp;</DD>
</DL>
</TD>
</TR>
</TABLE>

<HR>
<BR><!--------------------------------------------------------------------->

<P><A NAME="FPT_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of FoxPro Object and memo file (*.fpt)</A></H2>


<P>The file format is used by Fox Pro 2.x and later The size of the header
is 512 bytes
<PRE>    _______________________  _______
 0 | Number of next        |  ^
 1 | available block       |  |
 2 | for appending data    | Header
 3 | (binary)           *1 |  |
   |-----------------------|  |
 4 | ( Reserved )          |  |    
 5 |                       |  |
   |-----------------------|  |
 6 | Size of blocks N   *1 |  |
 7 |                    *2 |  |
   |-----------------------|  |
 8 | ( Reserved )          |  |
   |                       |  |
   |                       |  |
   | (i.e. garbage)        |  |
   :                       :  |
   :                       :  |    
511|                       |  |    
   |=======================| _v_____
  1|                       |  ^                 Used block
   |                       |  |           __  |=======================|
   |                       |  |          /   0| Record type      *3   |
   :                       :  |         /    1|                       |
   :                       :  |        /     2|                       |
   |                       |  |       /      3|                       |
  N|                       |  |      /        |-----------------------|
   |=======================| _|_____/        4| Length of memo field  |
  1|                       |  |              5|                       |
   :                       :  |              6|                       |
   :                       :  |              7|                       |
   |                       |  |               |-----------------------|
  N|                       | _|_____         8| Memo data             |
   |=======================|  |     \         :                       :
   |                       |  |      \       N|                       |
   |                       |  |       \_____  |=======================|
   |                       |  |
   :                       :  |
  N|                       | _v_____
   |=======================|</PRE>

<DL>
<DT>
*1)</DT>

<DD>
Binary value with <B>high</B> byte first.</DD>

<DT>
*2)</DT>

<DD>
Size of blocks in memo file (SET BLOCKSIZE). Default is 512 bytes.</DD>

<DT>
*3)</DT>

<DD>
Record type</DD>

<DL>
<DT>
00h</DT>

<DD>
Picture</DD>

<DT>
01h</DT>

<DD>
Memo</DD>

<DT>
02h</DT>

<DD>
Object</DD>
</DL>
</DL>
A memo field can be longer than the 512 byte block. It simply continues
through the next block. The field is logically terminated by two End-of-file
marks in the field. The reminder of the block is unused.

<P>
<HR>
<BR><!--------------------------------------------------------------------->

<P>
<HR>

<P><A NAME="MEM_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of Memmory Files (*.mem)</A></H2>

<PRE>    _______________________  _______
 0 |                       |  ^
 1 | Variable name         |  |
   : terminated by 00h     : Header
 9 |                       |  |
10 |                       |  |
   |-----------------------|  |
11 | Variable type         |  |    
   |-----------------------|  |
12 | ( Reserved )          |  |
   :                       :  |
15 |                       |  |
   |-----------------------|  | &lt;-
16 | Field length  (binary)|  |   |
   |-----------------------|  |   | *1
17 | Decimal count (binary)|  |   |
   |-----------------------|  | &lt;-
18 | ( Reserved )          |  |
   :                       :  |
   :                       :  |
31 |                       | _v_____
   |-----------------------|  |      
32 | Variable              |  |
   :                       :  |
   :                       :__V_____
N  |=======================|</PRE>

<DL>
<DT>
*1</DT>

<DD>
(FoxPro, Clipper)</DD>

<BR>16-17: Field length for non-numerical fields. Byte 16 is normally field
length (0-255) and byte 17 represents the high byte for field length (256-65535).</DL>

<HR>
<BR><!--------------------------------------------------------------------->

<P><A NAME="REC_LOCK"></A>
<H2>
<A HREF="#INDEX">The Record Lock Field on a dBASE IV Table</A></H2>


<P>In a DOS multiuser environment, each user can place record locks on
a shared table. For example, if user JSMITH is editing record number 12
of Stock, user MBROWN cannot access that record until it is unlocked. This
prohibits one user from unintentionally overwriting another user's work.

<P>The dBASE table type gives you the Record Lock option to show you information
about a locked record. If you check Record Lock, Database Desktop adds
a hidden character field named _DBASELOCK to the table. This field shows
you when a record was locked and by whom.
<TABLE BORDER=0 CELLSPACING=10 >
<TR>
<TD>
<PRE>&nbsp;____
/    \
\    /
&nbsp;\&nbsp; /
&nbsp; \/
&nbsp;|__|</PRE>
</TD>

<TD>Although Database Desktop adds the Record Lock field to the table,
you will not see it when you view the table. You see a record's Record
Lock field only if you are locked out of that record.&nbsp;</TD>
</TR>
</TABLE>
Use the Create dBASE Table dialogue box to create the Record Lock field
for a dBASE table. Record Lock is not available for dBASE III+ tables.

<P>The information you see when you find a locked field depends on the
Info Size you specify. The Record Lock field can be from 8 to 24 characters.
The default is 16.
<DL>
<DT>
0-1</DT>

<DD>
The first two bytes (binary integer) tell whether a user has changed the
record. Every committed change is counted encreasing the count by one.</DD>

<DT>
2-4</DT>

<DD>
The next three characters tell the time a user placed the lock. (10h 09h
07h i.e. 16:09:07)</DD>

<DT>
5-7</DT>

<DD>
The next three characters tell the date a user placed the lock. ( 60h 09h
0Bh i.e. (19)96-09-11 )</DD>

<DT>
8-24</DT>

<DD>
The remaining 16 characters are optional. They tell the name of the user
that placed the lock.</DD>
</DL>


<P>The default size of 16 displays the changed status of the record, the
time and date of the lock, and the first 8 characters of the user who placed
the lock.
<P>
<TABLE BORDER=0 >
<TR>
<TD>
<PRE> ____
/    \
\    /
 \  /
  \/
 |__|</PRE>
</TD>

<TD>
<BLOCKQUOTE>You cannot see from the locking info if the user releases the
record again. You have to test the record locking.&nbsp;</BLOCKQUOTE>

<BLOCKQUOTE>On DOS systems SHARE has to be loaded. Turbo C, DJGPP and compatible
C compilers have functions like:&nbsp;</BLOCKQUOTE>

<DIR>
<BLOCKQUOTE>lock()&nbsp;
<BR>_dos_lock()&nbsp;
<BR>locking() for setting locks on a region of a file&nbsp;</BLOCKQUOTE>

<BLOCKQUOTE>and&nbsp;</BLOCKQUOTE>

<BLOCKQUOTE>unlock()&nbsp;
<BR>_dos_unlock()&nbsp;
<BR>unlocking for removing the lock again.&nbsp;</BLOCKQUOTE>
It's important that YOU remove the locks BEFORE closing the file.&nbsp;</DIR>
</TD>
</TR>
</TABLE>

<HR>

<P><A NAME="REC_LOCK_SHARE"></A>
<H3>
<A HREF="#INDEX">Read/write locks using share</A></H3>
by <B>Phil Barnett</B> (<A HREF="MailTo:philb@iag.net">philb@iag.net</A>)

<P>Share holds the locks, but it doesn't know anything about the structure
or program that is requesting the lock. All share does is record the lock
offset, type (record or file) and file name with path and where (station)
it came from, and remove it when the correct station requests removal.

<P>Lets make a scenario.

<P>You have a 1000 byte header on your dbf file, and each record is 99
bytes + one for the delete flag. (this is to make the math simple)

<P>If you locked record one at the actual offset it would lock a range
from byte 1001 to 1100.

<P>Any other station requesting READ or WRITE would be denied. Of course,
we can read through locks in xBase, so how do they do it?

<P>The xBase languages add an arbitrary number to the actual offset. Originally,
Clipper used 1,000,000,000 + record offset. Fox used another offset, and
I am not sure but I think it was 4,000,000,000.

<P>We'll call this huge number the Lock Offset.

<P>Later, Clipper changed the Lock Offset to the same as Fox for certain
RDD's. (.CDX and .IDX)

<P>For years, even though Clipper could create .NDX indexes, it was not
Lock Offset compatible with dBase, and using both platforms on the same
data caused incorrect locking.

<P>The Lock Offset numbers are arbitrarily large to keep actual data files
from crossing the limit. (hopefully, we aren't creating any 1 trillion
byte files) (or 4 trillion for newer schemes)

<P>So, in an xBase file, record locks and writes are at Lock Offset + File
Offset and reads are at File Offset, so they do not run into a lock. This
allows "read through"

<P>Locks between xBase systems are only able to be used concurrently when
the arbitrary Lock Offset is the same in both systems.

<P>So, in the above example, to lock the first record the Lock Offset would
be 4,000,001,001 to 4,000,001,100.

<P>If both languages used the same offset, then the write lock would be
correctly enforced.

<P>
<HR>

<P>These offsets are mentioned in online documentation (for CA-Clipper)
(read 52eint.txt or clip53a.txt). The 1,000,000+RECNO() is used as default.
If you want to use offset 4,000,000 you have to link the ntxlock2.obj file.
For CDX indexes you should link cdxlock.obj to be compatible with Fox locking
scheme (but only for Clipper != 5.2e)
<BR>Confirmed by: r(ycho)GLAB, VIP Software (rglab@waw.pdi.net)

<P>SoftC uses 0x4,000,000L for lock offset in FoxPro files

<P>
<HR>

<P>For more information on record locking read :
<BR>"Transactional Locking, Part 1" by Thomas Wang (wang@cup.hp.com) on
<BR>http://www.concentric.net/~Ttwang/tech/locks1.htm

<P>
<HR>
<BR><A NAME="YEAR_2000"></A>
<H2>
<A HREF="#INDEX">How do I cope with the Year 2000 problem ?</A></H2>
In the header the date has the format YYMMDD which gives us the wonderful
Year 2000 problem. Or does it ?

<P>The 1st of february 1997 is written in the header as: 61h 02h 01h. If
your computer can handle date *after* the year 1999 you'll find that, the
1st of february 2001 is written in the header as: 64h 02h 01h.

<P>This means that the valid range for the year in the "last updated at"
field in the dbf header is year 1900 - 2155 (value 00h to FFh + base year
1900).

<P>All other fields containing dates has the format YYYYMMDD, which can
handle all valid dates (so far :-)

<P>Conclusion: Unless you care about data handling *after* the year 2155,
the Xbase file formate should not impose any problems.

<P>
<HR>
Check out: <A HREF="http://www.iag.net/%7Ephilb/clipy2k.htm"> 
"New Year 2000 page on The Oasis" by Phil Barnett:</A>
<HR>

<P>
<HR>

<P><A NAME="DBII"></A>
<H1>
<A HREF="#INDEX">dBASE II FILES</A></H1>
<A NAME="DBII_DBF"></A>
<H2>
<A HREF="#INDEX">The Structure of dBASE II data files (*.dbf)</A></H2>

<PRE>    _______________________  _______
 0 | Version number      *1|  ^
   |-----------------------|  |      
 1 | Number of records     | Record
 2 | in data file (16 bit) | header
   |-----------------------|  |            _  |=======================| _______
 3 | Date of last update   |  |           /  0| Field name in ASCII   |  ^ 
 4 |      YYMMDD           |  |          /    : (terminated by 00h)   :  |
 5 |                       |  |         |     |                       |  |
   |-----------------------|  |         |   10|                       |  |
 6 | Length of each record |  |         |     |-----------------------| For
 7 | ( 16 bits )         *2|  |         |   11| Field type in ASCII *4| each
   |-----------------------|--|---      |     |-----------------------| field
 8 |                       |  |  ^      |   12| Field length  (binary)|  |
 9 | Field descriptor      |  |  | ____/      |-----------------------|  |
   : Array             *5  :  |  |          13| Field adress in memory|  |
   : (Terminated by 0Dh)   :  |  |          14|                       |  |
   :                       :  |  | ______     |-----------------------|  |
   :                       :  |  |       \  15| Field decimal count   |  |
   :                       :  |  |        \_  |=======================| _v_____
   |                       |  |  |
519|                       |  |  |
   |-----------------------|  |  |   
520| Terminator          *3|__v__v_
   |=======================|    |
521| Records               |    |
   :                       :    |
   :                       :    |
   :                       :    |
   :                       :    |
  n|                       |    |
   |__End_of_File__________| ___v____  End of file ( 1Ah )  *11</PRE>

<DL>
<DT>
*1</DT>

<DD>
dBASE II version no: 02h</DD>

<DT>
*2</DT>

<DD>
Sum of lengths of all fields + 1 (deletion flag). Max. length is 1,000
bytes</DD>

<DT>
*3</DT>

<DD>
0Dh if all 32 fields present, otherwise 00h.</DD>

<DT>
*4</DT>

<DD>
Field type: C, N or L</DD>

<DT>
*5</DT>

<DD>
Max. 32 fields</DD>
</DL>

<HR>

<P><A NAME="DBII_NDX_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of dBASE II index file</A></H2>


<P>This was previously presented as the structure of dBASE III index files.
Checking with the actual header of an index made it obvious, that it did
NOT fit with dBASE III index files ( In that case several of the most essential
key fields should be NULL values ).
<PRE>    _______________________  _______
 0 | (Reserved)            |  ^
 1 |                       |  |
   |-----------------------|  |
 2 | Node number of        |  |
 3 | root node             |  |
   |-----------------------|  |
 4 | Node number of        | Anchor
 5 | next available node   |  node
   |-----------------------| description
 6 | Length of key      *1 |  |
   |-----------------------|  |
 7 | Size of key entry  *2 |  |
   |-----------------------|  |
 8 | Maximum keys/node  *3 |  |
   |-----------------------|  |
 9 | Field type            |  |
   |-----------------------|  |
 10| Key expression in     |  |
   | ASCII                 |  |
   :                       :  |
   :                       :  |
   |                       |  |
109| (00h terminated)      |  |
   |-----------------------|  |
110| (Unused)              |  |
   |                       |  |            _
   :                       :  |           /   |=======================|
   :                       :  |          /   0| Pointer to lower level|
   |                       |  |         /    1| (next page)           |
511| ( 16 bits )           |  |        /      |-----------------------|
   |=======================| _v_____  /      2| Record number         |
  0| No.of keys in node    |  ^      /       3|                       |
   |-----------------------| _|_____/         |-----------------------|
  1| Array of key entries  |  |              4| Key expression        |
   |                       | Index            |                       |
   |                       | record           :                       :
   |-----------------------| _|_____          :                       :
   :                       :  |     \        N|                       |
511|                       |  |      \______  |=======================|
   |=======================| _v_____</PRE>

<DL>
<DT>
*1</DT>

<DD>
Key length in bytes + 2</DD>

<DT>
*2</DT>

<DD>
Bytes in key expression + 2</DD>

<DT>
*3</DT>

<DL>
<DT>
00h</DT>

<DD>
Character field</DD>

<DT>
(else)</DT>

<DD>
Numeric field</DD>
</DL>
</DL>
<!--------------------------------------------------------------------->

<P>
<HR>

<P><A NAME="DBII_MEM_STRUCT"></A>
<H2>
<A HREF="#INDEX">The Structure of dBASE II Memory Files (*.mem)</A></H2>

<PRE>    _______________________  _______
 0 |                       |  ^
 1 | Variable name         |  |
   : terminated by 00h     : Header
   :                       :  |
 9 |                       |  |
10 |                       |  |
   |-----------------------|  |
11 | Variable type     *1  |  |    
   |-----------------------|  |
12 | Length of stored value|  |
   |-----------------------|  |
13 | ( Reserved )          |  |
14 |                       |  |
   |-----------------------|  |
15 | Field length  (binary)|  | *2
   |-----------------------|  |
16 | Decimal count (binary)|  |
   |-----------------------|  |
17 | ( Reserved )   00h    |  |
18 | ( Reserved )   00h    |  |
   |-----------------------|  |
19 | Value of variable     |  |
   :                    *3 :  |
   :                       :  |
   :                       :  |
   :                       :__V_____
N  |=======================|</PRE>

<DL>
<DT>
*1</DT>

<DL>
<DT>
C3h</DT>

<DD>
Character variable</DD>

<DT>
CEh</DT>

<DD>
Numerical variable</DD>

<DT>
CCh</DT>

<DD>
Logical variable</DD>
</DL>

<DT>
*2</DT>

<DD>
"E" marks the start of a definition</DD>

<DT>
*3</DT>

<DL>
<DT>
Text</DT>

<DD>
entries might have leading 00h, if text is shorter than field</DD>

<DT>
Logical</DT>

<DD>
17 bytes are reserved, but only the last byte is used for 00h (false) or
01h (true).</DD>

<DT>
End-of-File</DT>

<DD>
Valid end of file (i.e. end of data) is indicated by 1Ah.</DD>
</DL>
</DL>

<HR>
<BR><!--------------------------------------------------------------------->

<P>
<HR>
<PRE><A NAME="EXAMPLES"></A></PRE>

<H1>
<A HREF="#INDEX">Examples</A></H1>
<A NAME="DESC_DBF"></A>
<H2>
<A HREF="#INDEX">Description of test.dbf</A></H2>

<PRE>Name of data file      : test.dbf
Version no.            : 5
Memo file present      : 131
No. of records         : 3
Length of header       : 193
Length of records      : 279
Date for latest change : 19960814
No. of fields          : 5
Current record         : 0
Crypted                : no
mdx/cdx file           : no
broken transaction     : no



Multi user information :&nbsp; 00 00 00 00 00 00 00 00 00 00 00 00 00


Field descriptions :
  Name          Type    length  Decimal
# ID            N       5       0
# MSG           C       254     0
# NOTE          M       10      0
# BOOLEAN       L       1       0
# DATES         D       8       0



<A NAME="DESC_NDX"></A></PRE>

<H2>
<A HREF="#INDEX">Description of test.ndx</A></H2>


<P>A index made on ID field in test.dbf
<BR><A NAME="DESC_DBT"></A>
<H2>
<A HREF="#INDEX">Description of test.dbt</A></H2>


<P>A memo file containing the NOTE field from test.dbf

<P>
<HR>

<P><A NAME="HEX_DBF"></A><H2Hex dump of test.dbf>
<PRE>Offset  0 1 2 3  4 5 6 7  8 9 A B  C D E F

000000  <B>83</B><I>600811</I> <U>03000000</U> C1001701 00000000  .`..............
        ^^------ !!!!!!!!
000010  00000000 00000000 00000000 00000000  ................
000020  49440000 00000000 0000004E 0700DA3F  ID.........N...?
000030  05000000 01000000 00000000 00000000  ................
000040  4D534700 00000000 00000043 0C00DA3F  MSG........C...?
000050  FE000000 01000000 00000000 00000000  ................
000060  4E4F5445 00000000 0000004D 0A01DA3F  NOTE.......M...?
000070  0A000000 01000000 00000000 00000000  ................
000080  424F4F4C 45414E00 0000004C 1401DA3F  BOOLEAN....L...?
000090  01000000 01000000 00000000 00000000  ................
0000A0  44415445 53000000 00000044 1501DA3F  DATES......D...?
0000B0  08000000 01000000 00000000 00000000  ................
0000C0  0D202020 20203152 65636F72 64206E6F  .     1Record no
0000D0  20312020 20202020 20202020 20202020   1              
0000E0  20202020 20202020 20202020 20202020                  
0000F0  20202020 20202020 20202020 20202020                  
000100  20202020 20202020 20202020 20202020                  
000110  20202020 20202020 20202020 20202020                  
000120  20202020 20202020 20202020 20202020                  
000130  20202020 20202020 20202020 20202020                  
000140  20202020 20202020 20202020 20202020                  
000150  20202020 20202020 20202020 20202020                  
000160  20202020 20202020 20202020 20202020                  
000170  20202020 20202020 20202020 20202020                  
000180  20202020 20202020 20202020 20202020                  
000190  20202020 20202020 20202020 20202020                  
0001A0  20202020 20202020 20202020 20202020                  
0001B0  20202020 20202020 20202020 20202020                  
0001C0  20202020 20202020 20202020 20203120                1 
0001D0  31393936 30383133 2A202020 20324E6F  19960813*    2No
0001E0  20322020 20202020 20202020 20202020   2              
0001F0  20202020 20202020 20202020 20202020                  
000200  20202020 20202020 20202020 20202020                  
000210  20202020 20202020 20202020 20202020                  
000220  20202020 20202020 20202020 20202020                  
000230  20202020 20202020 20202020 20202020                  
000240  20202020 20202020 20202020 20202020                  
000250  20202020 20202020 20202020 20202020                  
000260  20202020 20202020 20202020 20202020                  
000270  20202020 20202020 20202020 20202020                  
000280  20202020 20202020 20202020 20202020                  
000290  20202020 20202020 20202020 20202020                  
0002A0  20202020 20202020 20202020 20202020                  
0002B0  20202020 20202020 20202020 20202020                  
0002C0  20202020 20202020 20202020 20202020                  
0002D0  20202020 20202020 20202020 20202020                  
0002E0  20202020 20325931 39393630 38313420       2Y19960814 
0002F0  20202020 334D6573 73616765 206E6F20      3Message no 
000300  33202020 20202020 20202020 20202020  3               
000310  20202020 20202020 20202020 20202020                  
000320  20202020 20202020 20202020 20202020                  
000330  20202020 20202020 20202020 20202020                  
000340  20202020 20202020 20202020 20202020                  
000350  20202020 20202020 20202020 20202020                  
000360  20202020 20202020 20202020 20202020                  
000370  20202020 20202020 20202020 20202020                  
000380  20202020 20202020 20202020 20202020                  
000390  20202020 20202020 20202020 20202020                  
0003A0  20202020 20202020 20202020 20202020                  
0003B0  20202020 20202020 20202020 20202020                  
0003C0  20202020 20202020 20202020 20202020                  
0003D0  20202020 20202020 20202020 20202020                  
0003E0  20202020 20202020 20202020 20202020                  
0003F0  20202020 20202020 20202020 334E3139              3N19
000400  39363031 30321A                      960102.


</PRE>

<HR>
<PRE><A NAME="HEX_NDX"></A></PRE>

<H2>
<A HREF="#INDEX">Hex dump of test.ndx</A></H2>

<PRE>000000  01000000 02000000 00000000 08001F00  ................
000010  01001000 00000000 49442000 80028403  ........ID .....
000020  31002B00 03000100 03000100 01000100  1.+.............
000030  01000100 01000100 01000100 01000100  ................
000040  01000100 01000100 01000100 01000100  ................
000050  01000100 01000100 01000100 01000100  ................
000060  01000100 01000100 01000100 01000100  ................
000070  01000100 01000100 01000100 01000100  ................
000080  01000100 01000100 01000100 01000100  ................
000090  01000100 01000100 01000100 01000100  ................
0000A0  01000100 01000100 01000100 01000100  ................
0000B0  01000100 01000100 01000100 01000100  ................
0000C0  01000100 01000100 01000100 01000100  ................
0000D0  01000100 01000100 01000100 01000100  ................
0000E0  01000100 01000100 01000100 01000100  ................
0000F0  01000100 01D3EA03 DABA5800 03D03BDA  ..........X...;.
000100  770CB8FE FFA20E69 5F5E8BE5 5DCB33DB  w......i_^..].3.
000110  8EC3B452 CD218CC0 0BC37410 268E47FE  ...R.!....t.&amp;.G.
000120  26803E00 004D7504 8C060069 8E060269  &amp;.>..Mu....i...i
000130  8CC1268B 1E010026 8B160300 83EA58BE  ..&amp;....&amp;......X.
000140  00008B3E 0669A100 69C70600 6900008E  ...>.i..i...i...
000150  C03BC174 153BC774 1C263B1E 01007515  .;.t.;.t.&amp;;...u.
000160  4626A103 00050200 03D0833E 00690075  F&amp;.........>.i.u
000170  048C0600 6926803E 00004D75 0A8CC026  ....i&amp;.>..Mu...&amp;
000180  03060300 40EBC889 56FE8936 0C69F746  ....@...V..6.i.F
000190  06100075 6AF74606 0100745C 1EB067B4  ...uj.F...t\..g.
0001A0  35CD218C C88ED8BE 15A5BF0A 00B90800  5.!.............
0001B0  F3A61F75 43B440CD 670AE475 3BB446CD  ...uC.@.g..u;.F.
0001C0  670AE475 33C86F7C 26D632D6 326A01A5  g..u3.o|&amp;.2.2j..
0001D0  3420007C 26E4326C 10881411 346431F0  4 .|&amp;.2l....4d1.
0001E0  32643104 00FA3340 07881415 34643133  2d1...3@....4d13
0001F0  003000EB 3F494400 F7460610 00754BF7  .0..?ID..F...uK.
000200  03000000 00000000 01000000 00000000  ................
000210  0000F03F 00000000 02000000 00000000  ...?............
000220  00000040 00000000 03000000 00000000  ...@............
000230  00000840 00000000 5F03C102 5F035101  ...@...._..._.Q.
000240  7B007C00 7D005101 6C036D03 57026E03  {.|.}.Q.l.m.W.n.
000250  AE025702 54025101 A7025101 FB015900  ..W.T.Q...Q...Y.
000260  31005101 0C025D03 5101C302 C402C502  1.Q...].Q.......
000270  C602C702 C802C902 CA025101 C5010802  ..........Q.....
000280  AE034201 9B000902 2F02DA00 0A02FD02  ..B...../.......
000290  06000800 09000A00 0B000C00 0D000E00  ................
0002A0  0F000700 AB00AD00 AE00AF00 B000B100  ................
0002B0  B200B300 B400AC00 C5011F03 51014201  ............Q.B.
0002C0  5101DD01 5101DA00 5101FD02 C5015101  Q...Q...Q.....Q.
0002D0  51014201 51015101 51015101 5101FD02  Q.B.Q.Q.Q.Q.Q...
0002E0  51015101 51015101 51015101 43035101  Q.Q.Q.Q.Q.Q.C.Q.
0002F0  5101FD02 D2025F03 DC025F03 E0025F03  Q....._..._..._.
000300  DB025F03 DF025F03 DD025F03 DE025F03  .._..._..._..._.
000310  5702E102 57025402 51015602 E202D302  W...W.T.Q.V.....
000320  5201D402 AE02AF02 B002B102 B202B302  R...............
000330  52015402 51015E00 5F006000 61005101  R.T.Q.^._.`.a.Q.
000340  5602D502 D3025201 D802D902 5201DA02  V.....R.....R...
000350  AF02B002 52015702 54025101 CB02CC02  ....R.W.T.Q.....
000360  CD02CE02 CF02D002 51015602 AD02AE02  ........Q.V.....
000370  AF02B002 B102B202 54025702 51015602  ........T.W.Q.V.
000380  D602D302 5201AE02 D7025402 57025101  ....R.....T.W.Q.
000390  80023100 51018002 84033100 51018002  ..1.Q.....1.Q...
0003A0  31005101 11015F03 51014800 49005101  1.Q..._.Q.H.I.Q.
0003B0  A600C102 51014C03 31005101 4C038602  ....Q.L.1.Q.L...
0003C0  31005101 56021B00 54021D00 56025201  1.Q.V...T...V.R.
0003D0  5F031C00 51025602 AE02AF02 5802B002  _...Q.V.....X...
0003E0  B1025002 52015702 54025101 50025402  ..P.R.W.T.Q.P.T.
0003F0  1E001F00 51022000 5602B102 B302B502  ....Q. .V.......

</PRE>

<HR>
<PRE><A NAME="HEX_DBT"></A></PRE>

<H2>
<A HREF="#INDEX">Hex dump of test.dbt</A></H2>

<PRE>           *1       *2
        vvvvvvvv vvvvvvvv
000000  04000000 8701021D 03000002 5E126431  ............^.d1
000010  03000000 00000300 00008701 021D0300  ................   \
000020  00025E12 64310300 00000000 02000000  ..^.d1..........    |
000030  8701021D 03000002 5E126431 03000000  ........^.d1....    |
000040  00000100 00006572 69632020 44617465  ......eric  Date    |
000050  20202020 204C6F67 6963616C 20204D65       Logical  Me    |
000060  6D6F2020 20202000 FF7604E8 26CF83C4  mo     ..v..&amp;...    |
000070  0C5E5FC9 C3908B76 048B4606 50568976  .^_....v..F.PV.v    |
000080  EA8946EC 900EE855 9B83C404 C45EEA2A  ..F....U.....^.*    |
000090  E4268A47 24C45E0A 268907C4 5EEA268A  .&amp;.G$.^.&amp;...^.&amp;.    | Header
0000A0  47048E46 10268905 C45EEA26 F6471610  G..F.&amp;...^.&amp;.G..    | (mostly
0000B0  7503E9A3 00C45E0A 26832F02 5E5FC9C3  u.....^.&amp;./.^_..    | garbage)
0000C0  6A01EB9A 16261F11 1F110300 C1009219  j....&amp;..........    |
0000D0  00B8D80A BE197C26 16262411 24110300  ......|&amp;.&amp;$.$...    |
0000E0  D500A619 00B8E20A D2197C26 BF186DD0  ..........|&amp;..m.    |
0000F0  0670A107 A1080672 CC026431 7C26BA19  .p.....r..d1|&amp;..    |
000100  DC01CC19 D2196431 2F001100 21002F00  ......d1/...!./.    |
000110  6D00D21A 0318CC19 21000300 D2196431  m.......!.....d1    |
000120  11002100 1E1B6431 03002020 20006163  ..!...d1..   .ac    |
000130  74657200 5E5FC9C3 8B760023 2300268A  ter.^_...v.##.&amp;.    |
000140  44032AE4 8CC1C45E 0A268907 8EC1268A  D.*....^.&amp;....&amp;.    |
000150  44028E46 10268905 5E5FC9C3 C8060000  D..F.&amp;..^_......    |
000160  57568B4E 108B7E14 32C0F406 F10A1200  WV.N..~.2.......    |
000170  F10A4400 8E1A3C1A F6006C22 08000F00  ..D...&lt;...l"....    |
000180  07000002 0A00246F 0A02DE13 D0367C26  ......$o.....6|&amp;    |
000190  2E018221 06727C26 0814820A F10A0700  ...!.r|&amp;........    |
0001A0  0A00D036 00020A00 D0360000 00020700  ...6.....6......    |
0001B0  00060000 0000D136 2C14E707 F10A0F00  .......6,.......    |
0001C0  10001900 D036726D 7C260000 07000000  .....6rm|&amp;......    |
0001D0  00008C6D 08002A14 00007C26 9A018221  ...m..*...|&amp;...!    |
0001E0  46727C26 4614CB00 F10A0700 00000000  Fr|&amp;F...........    |
0001F0  00000700 0F060000 00008C6D 7C264E14  ...........m|&amp;N.   /
000200  54686973 20697320 61206D65 6D6F2066  This is a memo f   \ &lt;-
000210  6F726520 7265636F 7264206E 6F206F6E  ore record no on    |  | *3
000220  651A1A11 C4D92E20 4C656176 65206D65  e...... Leave me    |&lt;-
000230  6E75202D 201B1A2E 20426C61 636B626F  nu - ... Blackbo    |
000240  61726420 2D204631 302E0052 616E6765  ard - F10..Range    |
000250  2076616C 7565206D 75737420 6265206E   value must be n    |
000260  756D6572 69632E20 20507265 73732061  umeric.  Press a    |
000270  6E79206B 65792074 6F20636F 6E74696E  ny key to contin    |
000280  75652E00 2500EA08 00AA209A D0027F1D  ue..%..... .....    |
000290  2400EA00 00911F9A D0027F1D 1100EA00  $...............    |
0002A0  00451E9A D0027F1D 0800EA14 08D21D9A  .E..............    |
0002B0  D0027F1D 1000EA00 00451E9A D0027F1D  .........E......    |
0002C0  1900EA00 00D21D9A D0027F1D 0C00EA00  ................    |
0002D0  00D21D9A D0027F1D 1800EA00 00D21D9A  ................    |
0002E0  D0027F1D 0A00EA00 00D21D9A D0027F1D  ................    |
0002F0  1300EA00 0068219A D0027F1D 1200EA00  .....h!.........    |
000300  0068219A D0027F1D 1400EA00 0068219A  .h!..........h!.    |
000310  D0027F1D 1600EA00 0068219A D0027F1D  .........h!.....    |
000320  1600EA05 0368219A D0027F1D 1500EA00  .....h!.........    |
000330  0068219A D0027F1D 1200EA24 0968219A  .h!........$.h!.    |
000340  D0027F1D 1200EAC8 0E68219A D0027F1D  .........h!.....    |
000350  1200EA82 1268219A D0027F1D 1200EABD  .....h!.........    |
000360  0168219A D0027F1D 1200EAA8 1468219A  .h!..........h!.    |
000370  D0027F1D 1200EA7D 0068219A D0027F1D  .......}.h!.....    |
000380  1200EA3D 0068219A D0027F1D 1200EAB2  ...=.h!.........    |
000390  0068219A D0027F1D 1200EA1A 0D68219A  .h!..........h!.    |
0003A0  D0027F1D 1200EAE3 1268219A D0027F1D  .........h!.....    |
0003B0  1200EA44 1368219A D0027F1D 2400EA35  ...D.h!.....$..5    |
0003C0  09911F9A D0027F1D 2400EA4F 0B911F9A  ........$..O....    |
0003D0  D0027F1D 2400EA56 1E911F9A D0027F1D  ....$..V........    |
0003E0  2400EAC7 1E911F00 00000000 00000000  $...............    |
0003F0  BE000026 8B8C0400 41742E26 8B940800  ...&amp;....At.&amp;....   _|
000400  54686973 20697320 6D656D6F 20666F72  This is memo for   \ &lt;- Second
000410  20726563 6F726420 321A1A1C 00040000   record 2.......    |&lt;- entry
000420  E54F5445 30332020 4E445800 00000000  .OTE03  NDX.....    |
000430  00000000 00002099 8C1F8945 00040000  ...... ....E....    |
000440  E54F5445 30202020 44425400 00000000  .OTE0   DBT.....    |
000450  00000000 00009C94 821F9345 00040000  ...........E....    |
000460  E54F5445 30202020 44424600 00000000  .OTE0   DBF.....    | Second 
000470  00000000 00009C94 821F9445 28020000  ...........E(...    | block
000480  E54F5445 30342020 4E445800 00000000  .OTE04  NDX.....    |
000490  00000000 00002232 8D1F6E1C 00040000  ......"2..n.....    |
0004A0  E5455820 20202020 20202000 00000000  .EX        .....    |
0004B0  00000000 00004C32 8D1F8A45 FD2F0000  ......L2...E./..    |
0004C0  E545447B 45442020 45444320 00000000  .ED{ED  EDC ....    |
0004D0  00000000 00008532 8D1F0000 00000000  .......2........    |
0004E0  E545447B 45443120 45445420 00000000  .ED{ED1 EDT ....    |
0004F0  00000000 00008532 8D1F0000 00000000  .......2........    |
000500  E545447B 45443120 45444220 00000000  .ED{ED1 EDB ....    |
000510  00000000 00008532 8D1F0000 00000000  .......2........    |
000520  E545447B 45442020 45445320 00000000  .ED{ED  EDS ....    |
000530  00000000 00008532 8D1F8D45 00100000  .......2...E....    |
000540  00000000 00000000 00000000 00000000  ................    |
000550  00000000 00000000 00000000 00000000  ................    |
000560  00000000 00000000 00000000 00000000  ................    |
000570  00000000 00000000 00000000 00000000  ................    |
000580  00000000 00000000 00000000 00000000  ................    |
000590  00000000 00000000 00000000 00000000  ................    |
0005A0  00000000 00000000 00000000 00000000  ................    |
0005B0  00000000 00000000 00000000 00000000  ................    |
0005C0  00000000 00000000 00000000 00000000  ................    |
0005D0  00000000 00000000 00000000 00000000  ................    |
0005E0  00000000 00000000 00000000 00000000  ................    |
0005F0  00000000 00000000 00000000 00000000  ................   _|
000600  54686973 20697320 6D656D6F 20331A1A  This is memo 3..   &lt;- 3rd entry *4)</PRE>

<DL>
<DT>
*1)</DT>

<DD>
First 4 bytes indicates no. of next free block</DD>

<DT>
*2)</DT>

<DD>
(FoxBase) Size of blocks. This is a dBASE III+ file and byte 4-511 is just
garbage.</DD>

<DT>
*3)</DT>

<DD>
First entry (terminated by 1Ah 1Ah)</DD>

<DT>
*4)</DT>

<DD>
NOTE! Last entry is NOT a complete block. dBASE does not write the full
block to the memo file. The block contains the memo + terminator (1Ah 1Ah)</DD>
</DL>

<HR>

<P><A NAME="DBASE_SPEC"></A>
<TABLE>
<TR COLSPAN="4">
<TD>
<H1>
<A HREF="#INDEX">dBASE Specifications</A></H1>
</TD>
</TR>

<TR>
<TH></TH>

<TH>dBASE II</TH>

<TH>dBASE III</TH>

<TH>dBASE IV</TH>
</TR>

<TR>
<TD>Max. no. of records</TD>

<TD>65,535</TD>

<TD>1,000,000,000</TD>

<TD>1,000,000,000</TD>
</TR>

<TR>
<TD>Max. fields per record</TD>

<TD>32</TD>

<TD>128</TD>

<TD>255</TD>
</TR>

<TR>
<TD>Max. data files open</TD>

<TD></TD>

<TD>10</TD>

<TD>10</TD>
</TR>

<TR>
<TD>Max. index files per open database</TD>

<TD></TD>

<TD>7</TD>

<TD>47</TD>
</TR>

<TR>
<TD>Max. record size in bytes</TD>

<TD>1,000</TD>

<TD>4,000</TD>

<TD>4000</TD>
</TR>

<TR>
<TD>Max. records per file</TD>

<TD></TD>

<TD>65,535</TD>

<TD></TD>
</TR>

<TR>
<TD>Max. bytes per file</TD>

<TD></TD>

<TD>8,000,000</TD>

<TD></TD>
</TR>

<TR>
<TD>Max. memory variables</TD>

<TD>-</TD>

<TD>256</TD>

<TD></TD>
</TR>

<TR>
<TD>Max. memory for variables</TD>

<TD>-</TD>

<TD>6,000 bytes *3</TD>

<TD></TD>
</TR>

<TR>
<TD>No. of data types</TD>

<TD></TD>

<TD>5</TD>

<TD>6</TD>
</TR>

<TR>
<TD>Max. size of MEMO file</TD>

<TD></TD>

<TD>5000 bytes</TD>

<TD>64000 bytes</TD>
</TR>

<TR>
<TD>Max. character field size in bytes</TD>

<TD>254</TD>

<TD>254</TD>

<TD>254</TD>
</TR>

<TR>
<TD>Max. numerical field size in bytes</TD>

<TD></TD>

<TD>19</TD>

<TD>20</TD>
</TR>

<TR>
<TD>Size of logical field</TD>

<TD>1 byte</TD>

<TD>1 byte</TD>

<TD>1 byte</TD>
</TR>

<TR>
<TD>Size of date field</TD>

<TD></TD>

<TD>8 bytes</TD>

<TD>8 bytes</TD>
</TR>

<TR>
<TD>Size of memo pointer in DBF</TD>

<TD>-</TD>

<TD>10 bytes</TD>

<TD></TD>
</TR>

<TR>
<TD>Size of floating point</TD>

<TD></TD>

<TD>-</TD>

<TD>1-2</TD>
</TR>
</TABLE>
*3 Can be expanded to 31 KB using CONFIG, 6 KB is mentioned as default. <!-----------------------------------
<p><HR>

<A HREF="#INDEX"><H1>HOW DO THEY WORK</H1></A>
<br>
Still under construction. Please ignore this page.
<br>

Field Descriptor Array (*.dbf)
<XMP>
    _______________________  _______
  0| Field name in ASCII   |  ^
   |                       |  |
   |                       |  |
   :                       : Field 
   :                       : Description
   |                       | (for each field)
 10|                       |  |
   |-----------------------|  |
 11| Field type in ASCII   |  |
   |-----------------------|  |
 12| Field data address    |  |
   |                       |  |
   |                       |  |
 15|                       |  |
   |-----------------------|  |
 16| Field length  (binary)|  |
   |-----------------------|  |
 17| Decimal count (binary)|  |
   |-----------------------|  |
 18| ( Reserved )          |  |
   |                       |  |
   :                       :  |
   |                       |  |
 31|                       |  |
   |-----------------------| _v______
</XMP>
<br>
-->
<P>
<HR>

<P><A NAME="FILEEXT">
<H1>
<A HREF="#INDEX">List of File extensions</A></H1>
<DIR>
<TABLE>
<TR><TD><TT>.$$$</TT></TD><TD  WIDTH=10></TD>	<TD>temporary file (dBASE III)</TD></TR>
<TR><TD><TT>.$db</TT></TD><TD  WIDTH=10></TD>	<TD>temporary file (dBASE IV)</TD></TR>
<TR><TD><TT>.act</TT></TD><TD  WIDTH=10></TD>	<TD>FoxDoc Action Diagrams (FoxPro)</TD></TR>
<TR><TD><TT>.app</TT></TD><TD  WIDTH=10></TD>	<TD>application object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.app</TT></TD><TD  WIDTH=10></TD>	<TD>generated application (FoxPro)</TD></TR>
<TR><TD><TT>.bak</TT></TD><TD  WIDTH=10></TD>	<TD>Backup file (dBASE )</TD></TR>
<TR><TD><TT>.bar</TT></TD><TD  WIDTH=10></TD>	<TD>horizontal bar menu object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.bin</TT></TD><TD  WIDTH=10></TD>	<TD>Binary files (dBASE)</TD></TR>
<TR><TD><TT>.bch</TT></TD><TD  WIDTH=10></TD>	<TD>batch process object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.cac</TT></TD><TD  WIDTH=10></TD>	<TD>dBASE IV executable when caching on/off (see cachedb.bat)</TD></TR>
<TR><TD><TT>.cat</TT></TD><TD  WIDTH=10></TD>	<TD>catalog (dBASE IV)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#CDX_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#CDX_STRUCT">.cdx</A></TT></TD><TD  WIDTH=10></TD>
	<TD>compound index (FoxPro)</TD></TR>
<TR><TD><TT>.ch</TT></TD><TD  WIDTH=10></TD>	<TD>header file (Clipper 5)</TD></TR>
<TR><TD><TT>.cht</TT></TD><TD  WIDTH=10></TD>	<TD>interface file for ChartMaster (dBASE)</TD></TR>
<TR><TD><TT>.clp</TT></TD><TD  WIDTH=10></TD>	<TD>compiler script file (clip list) (Clipper 5)</TD></TR>
<TR><TD><TT>.cmd</TT></TD><TD  WIDTH=10></TD>	<TD>command (dBASE - Waffle)</TD></TR>
<TR><TD><TT>.cod</TT></TD><TD  WIDTH=10></TD>	<TD>template source file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.cpt</TT></TD><TD  WIDTH=10></TD>	<TD>encrypted memo file (dBASE)</TD></TR>
<TR><TD><TT>.crp</TT></TD><TD  WIDTH=10></TD>	<TD>encrypted database (dBASE IV)</TD></TR>
<TR><TD><TT>.ctl</TT></TD><TD  WIDTH=10></TD>	<TD>control file (dBASE IV - Aldus Setup)</TD></TR>
<TR><TD><TT>.cvt</TT></TD><TD  WIDTH=10></TD>	<TD>backup file for CONVERTed database file (dBASE IV)</TD></TR>
<TR><TD><TT>.db</TT></TD><TD  WIDTH=10></TD>	<TD>configuration (dBASE IV - dBFast)</TD></TR>
<TR><TD><TT>.db$</TT></TD><TD  WIDTH=10></TD>	<TD>temporary file (dBASE)</TD></TR>
<TR><TD><TT>.db2</TT></TD><TD  WIDTH=10></TD>	<TD>database (dBASE II)</TD></TR>
<TR><TD><TT>.db3</TT></TD><TD  WIDTH=10></TD>	<TD>database (dBASE III)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#DBF_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#DBF_STRUCT">.dbf</A></TT></TD><TD  WIDTH=10></TD>
	<TD>database file (dBASE III/IV - FoxPro - dBFast - DataBoss)</TD></TR>
<TR><TD><TT>.dbk</TT></TD><TD  WIDTH=10></TD>	<TD>database backup (dBASE IV)</TD></TR>
<TR><TD><TT>.dbo</TT></TD><TD  WIDTH=10></TD>	<TD>compiled program (dBASE IV)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#DBT_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#DBT_STRUCT">.dbt</A></TT></TD><TD  WIDTH=10></TD>
	<TD>FoxBASE+ style memo (FoxPro)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#DBT_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#DBT_STRUCT">.dbt</A></TT></TD><TD  WIDTH=10></TD>
	<TD>memo file for database w/same name (dBASE IV - dBFast)</TD></TR>
<TR><TD><TT>.def</TT></TD><TD  WIDTH=10></TD>	<TD>Definitions list (dBASE)</TD></TR>
<TR><TD><TT>.dif</TT></TD><TD  WIDTH=10></TD>	<TD>Data Interchange Format or VisiCal file. Used with APPEND FROM and COPY (dBASE)</TD></TR>
<TR><TD><TT>.doc</TT></TD><TD  WIDTH=10></TD>	<TD>Documentation text file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.fil</TT></TD><TD  WIDTH=10></TD>	<TD>files list object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.fky</TT></TD><TD  WIDTH=10></TD>	<TD>macro file (FoxPro)</TD></TR>
<TR><TD><TT>.fmo</TT></TD><TD  WIDTH=10></TD>	<TD>compiled format file (dBASE IV)</TD></TR>
<TR><TD><TT>.fmt</TT></TD><TD  WIDTH=10></TD>	<TD>format file (dBASE IV - FoxPro - Clipper 5 - dBFast)</TD></TR>
<TR><TD><TT>.fp</TT></TD><TD  WIDTH=10></TD>	<TD>configuration file (FoxPro)</TD></TR>
<TR><TD><TT>.fpc</TT></TD><TD  WIDTH=10></TD>	<TD>catalog (FoxPro)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#FPT_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#FPT_STRUCT">.fpt</A></TT></TD><TD  WIDTH=10></TD>
	<TD>memo (FoxPro)</TD></TR>
<TR><TD><TT>.fr3</TT></TD><TD  WIDTH=10></TD>	<TD>renamed dBASE III+ form file (dBASE IV)</TD></TR>
<TR><TD><TT>.frg</TT></TD><TD  WIDTH=10></TD>	<TD>uncompiled report file (dBASE IV)</TD></TR>
<TR><TD><TT>.frm</TT></TD><TD  WIDTH=10></TD>	<TD>report file (dBASE IV - Clipper 5 - dBFast)</TD></TR>
<TR><TD><TT>.fro</TT></TD><TD  WIDTH=10></TD>	<TD>compiled report file (dBASE IV)</TD></TR>
<TR><TD><TT>.frt</TT></TD><TD  WIDTH=10></TD>	<TD>report memo (FoxPro)</TD></TR>
<TR><TD><TT>.frx</TT></TD><TD  WIDTH=10></TD>	<TD>report (FoxPro)</TD></TR>
<TR><TD><TT>.fw2</TT></TD><TD  WIDTH=10></TD>	<TD>Framework spreadsheet or database file (Framework - dBASE)</TD></TR>
<TR><TD><TT>.fxp</TT></TD><TD  WIDTH=10></TD>	<TD>compiled format (FoxPro)</TD></TR>
<TR><TD><TT>.gen</TT></TD><TD  WIDTH=10></TD>	<TD>compiled template (dBASE Application Generator)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#IDX_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#IDX_STRUCT">.idx</A></TT></TD><TD  WIDTH=10></TD>
	<TD>index (many - FoxPro)</TD></TR>
<TR><TD><TT>.ind</TT></TD><TD  WIDTH=10></TD>	<TD>include index (dBASE IV)</TD></TR>
<TR><TD><TT>.inx</TT></TD><TD  WIDTH=10></TD>	<TD>index (Foxbase)</TD></TR>
<TR><TD><TT>.key</TT></TD><TD  WIDTH=10></TD>	<TD>Key macro library (dBASE)</TD></TR>
<TR><TD><TT>.lbg</TT></TD><TD  WIDTH=10></TD>	<TD>label generator data (dBASE IV)</TD></TR>
<TR><TD><TT>.lbl</TT></TD><TD  WIDTH=10></TD>	<TD>label (dBASE IV - Clipper 5 - dBFast)</TD></TR>
<TR><TD><TT>.lbo</TT></TD><TD  WIDTH=10></TD>	<TD>compiled label (dBASE IV)</TD></TR>
<TR><TD><TT>.lbt</TT></TD><TD  WIDTH=10></TD>	<TD>label memo (FoxPro)</TD></TR>
<TR><TD><TT>.lbx</TT></TD><TD  WIDTH=10></TD>	<TD>label (FoxPro)</TD></TR>
<TR><TD><TT>.ld1</TT></TD><TD  WIDTH=10></TD>	<TD>overlay file (dBASE)</TD></TR>
<TR><TD><TT>.log</TT></TD><TD  WIDTH=10></TD>	<TD>Transaction log file (dBASE)</TD></TR>
<TR><TD><TT>.mbk</TT></TD><TD  WIDTH=10></TD>	<TD>multiple index file backup (dBASE IV)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#MDX_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#MDX_STRUCT">.mdx</A></TT></TD><TD  WIDTH=10></TD>
	<TD>multiple index file (dBASE IV)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#MEM_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#MEM_STRUCT">.mem</A></TT></TD><TD  WIDTH=10></TD>
	<TD>memory variable save file (dBASE IV - FoxPro)</TD></TR>
<TR><TD><TT>.mnt</TT></TD><TD  WIDTH=10></TD>	<TD>menu memo (FoxPro)</TD></TR>
<TR><TD><TT>.mnx</TT></TD><TD  WIDTH=10></TD>	<TD>menu (FoxPro)</TD></TR>
<TR><TD><TT>.mpr</TT></TD><TD  WIDTH=10></TD>	<TD>generated program (FoxPro)</TD></TR>
<TR><TD><TT>.mpx</TT></TD><TD  WIDTH=10></TD>	<TD>compiled menu program (FoxPro)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#NDX_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#NDX_STRUCT">.ndx</A></TT></TD><TD  WIDTH=10></TD>
	<TD>index file (dBASE II - III - IV - dBFast)</TD></TR>
<TR><TD><TT>.npi</TT></TD><TD  WIDTH=10></TD>	<TD>source for DGEN.EXE intepreter (dBASE Application Generator)</TD></TR>
<TR><TD><TT>
	<A HREF="xbase.htm#NTX_STRUCT" tppabs="http://www.e-bachmann.dk/docs/xbase.htm#NTX_STRUCT">.ntx</A></TT></TD><TD  WIDTH=10></TD>
	<TD>index file (Clipper 5)</TD></TR>
<TR><TD><TT>.pjt</TT></TD><TD  WIDTH=10></TD>	<TD>project memo (FoxPro)</TD></TR>
<TR><TD><TT>.pjx</TT></TD><TD  WIDTH=10></TD>	<TD>project (FoxPro)</TD></TR>
<TR><TD><TT>.plb</TT></TD><TD  WIDTH=10></TD>	<TD>library (FoxPro)</TD></TR>
<TR><TD><TT>.pll</TT></TD><TD  WIDTH=10></TD>	<TD>pre-linked library (Clipper 5)</TD></TR>
<TR><TD><TT>.plt</TT></TD><TD  WIDTH=10></TD>	<TD>pre-linked transfer file (Clipper 5)</TD></TR>
<TR><TD><TT>.pop</TT></TD><TD  WIDTH=10></TD>	<TD>pop-up menu object (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.ppo</TT></TD><TD  WIDTH=10></TD>	<TD>pre-processor output (Clipper 5)</TD></TR>
<TR><TD><TT>.pr2</TT></TD><TD  WIDTH=10></TD>	<TD>printer driver (dBASE IV)</TD></TR>
<TR><TD><TT>.pr3</TT></TD><TD  WIDTH=10></TD>	<TD>PostScript printer driver (dBASE IV)</TD></TR>
<TR><TD><TT>.prf</TT></TD><TD  WIDTH=10></TD>	<TD>printer driver (dBASE IV)</TD></TR>
<TR><TD><TT>.prg</TT></TD><TD  WIDTH=10></TD>	<TD>program source (dBASE IV - FoxPro - Clipper 5 - dBFast)</TD></TR>
<TR><TD><TT>.prs</TT></TD><TD  WIDTH=10></TD>	<TD>procedure (dBASE IV)</TD></TR>
<TR><TD><TT>.prt</TT></TD><TD  WIDTH=10></TD>	<TD>Print dump (dBASE)</TD></TR>
<TR><TD><TT>.prx</TT></TD><TD  WIDTH=10></TD>	<TD>compiled program (FoxPro)</TD></TR>
<TR><TD><TT>.qbe</TT></TD><TD  WIDTH=10></TD>	<TD>saved query (Query By Example) (dBASE IV - Quattro Pro)</TD></TR>
<TR><TD><TT>.qbo</TT></TD><TD  WIDTH=10></TD>	<TD>compiled query (dBASE IV)</TD></TR>
<TR><TD><TT>.qpr</TT></TD><TD  WIDTH=10></TD>	<TD>generated query program (FoxPro)</TD></TR>
<TR><TD><TT>.qpx</TT></TD><TD  WIDTH=10></TD>	<TD>compiled query program (FoxPro)</TD></TR>
<TR><TD><TT>.qry</TT></TD><TD  WIDTH=10></TD>	<TD>query (dBASE IV)</TD></TR>
<TR><TD><TT>.res</TT></TD><TD  WIDTH=10></TD>	<TD>dBASE resources (dBASE IV)</TD></TR>
<TR><TD><TT>.rpd</TT></TD><TD  WIDTH=10></TD>	<TD>Rapid file. Used for IMPORT/EXPORT and from APPEND, FROM and COPY (dBASE)</TD></TR>
<TR><TD><TT>.sc3</TT></TD><TD  WIDTH=10></TD>	<TD>renamed dBASE III screen mask file (dBASE IV)</TD></TR>
<TR><TD><TT>.scr</TT></TD><TD  WIDTH=10></TD>	<TD>screen - screen snapshot (dBASE IV - Procomm Plus)</TD></TR>
<TR><TD><TT>.sct</TT></TD><TD  WIDTH=10></TD>	<TD>screen memo (FoxPro)</TD></TR>
<TR><TD><TT>.scx</TT></TD><TD  WIDTH=10></TD>	<TD>screen (FoxPro)</TD></TR>
<TR><TD><TT>.spr</TT></TD><TD  WIDTH=10></TD>	<TD>genarated screen program (FoxPro)</TD></TR>
<TR><TD><TT>.spx</TT></TD><TD  WIDTH=10></TD>	<TD>compiled screen program (FoxPro)</TD></TR>
<TR><TD><TT>.str</TT></TD><TD  WIDTH=10></TD>	<TD>structure list object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.t44</TT></TD><TD  WIDTH=10></TD>	<TD>Temporary file for Sort or Index (dBASE IV)</TD></TR>
<TR><TD><TT>.tbk</TT></TD><TD  WIDTH=10></TD>	<TD>memo backup (dBASE IV - FoxPro)</TD></TR>
<TR><TD><TT>.tvf</TT></TD><TD  WIDTH=10></TD>	<TD>table view settings (dBASE)</TD></TR>
<TR><TD><TT>.upd</TT></TD><TD  WIDTH=10></TD>	<TD>update data (dBASE)</TD></TR>
<TR><TD><TT>.upo</TT></TD><TD  WIDTH=10></TD>	<TD>compiled update data (dBASE)</TD></TR>
<TR><TD><TT>.val</TT></TD><TD  WIDTH=10></TD>	<TD>values list object file (dBASE Application Generator)</TD></TR>
<TR><TD><TT>.vew</TT></TD><TD  WIDTH=10></TD>	<TD>view file (Clipper 5, Lotus Approach)</TD></TR>
<TR><TD><TT>.vue</TT></TD><TD  WIDTH=10></TD>	<TD>view (dBASE IV - FoxPro)</TD></TR>
<TR><TD><TT>.w44</TT></TD><TD  WIDTH=10></TD>	<TD>temporary file for Sort or Index (dBASE)</TD></TR>
<TR><TD><TT>.wfm</TT></TD><TD  WIDTH=10></TD>	<TD>form object (dBASE Form Designer)</TD></TR>
<TR><TD><TT>.win</TT></TD><TD  WIDTH=10></TD>	<TD>window file (FoxPro - dBASE)</TD></TR>
</TABLE>
</DIR>


<P>
<HR>
<PRE><A NAME="HISTORY"></A></PRE>

<H1>
<A HREF="#INDEX">HISTORY</A></H1>

1999-03-08
<DL>
<DD>
	Minor additions.
</DD>
</DL>

1998-11-28
<DL>
<DD>
	Updating some links. 
</DD>
</DL>

1998-09-21
<DL>
<DD>
The path to <I>CxBase : A Perl Library for manipulating Xbase files</I> fixed:
<DIR>
	<A HREF="http://www.e-bachmann.dk/archive/cxbase.zip">http://www.e-bachmann.dk/archive/cxbase.zip</A>
</DIR>
</DD>
</DL>

1998-08-26
<DL>
<DD>
	More references. 
</DD>
</DL>

1998-08-24
<DL>
<DD>
	More references (Perl). 
</DD>
<DD>
	List of File extentions.
</DD>
</DL>


1998-07-16
<DL>
	<DD>
		FoxPro/FoxBase specific notes.
	</DD>
</DL>

1998-04-07
<DL>
	<DD>
		More references. Java and Rexx.
	</DD>
</DL>

1998-03-26
<DL>
	<DD>
		New references.
	</DD>
</DL>

1998-03-03
<DL>
	<DD>
		A reference to a Perl Xbase manipulation library added.
	</DD>
</DL>

1997-09-29
<DL>
	<DD>
		A reference to a Perl Xbase manipulation library added.
	</DD>
</DL>

1997-09-17
<DL>
	<DD>
		Fixing minor bug in reference list
	</DD>
	<DD>
		Reference list: Pratap Pereira moved to new host
	</DD>
</DL>

1997-08-11
<DL>
	<DL>
		<DT>
			Updating structure of:
		</DT>

	<DD>
		data file (*.dbf): codepages etc.
	</DD>

	<DD>
		Memo files (*.dbt): dBASE III &amp; dBASE IV does *not* use the same structure
	</DD>

	<DD>
		Memory files (*.mem): Full structure of file
	</DD>

	<DD>
		Clipper Index (*.NTX): Page structure added. Header structure improved
	</DD>

	<DD>
		dBASE II data and index file
	</DD>

<DT>
	Adding structure of:
</DT>

<DD>
	Fox Pro object and memo files (*.fpt)
</DD>

<BR>
	<DD>
		dBASEII Memory files (*.mem)
	</DD>

	<DD>
		dBASE IV Multple index files (*.MDX)
	</DD>
</DL>
</DL>

1997-06-02
<DL>
	<DD>
		Fixing bug in calculating dates for "The Year 2000": 1900 + 255 = 2155
	</DD>
</DL>

1997-04-16
<DL>
	<DD>
		Note on Year 2000 problems.
	</DD>

	<P>Correcting page description in index file .ndx.
</DL>

1997-04-18
<DL>
	<DD>
		Added the chapter:
	</DD>
	<BR><I>The Structure of Compound Index files (*.cdx)</I> by David Kuechler
</DL>

1997-03-10
<DL>
	<DD>
		Still more references and updates of references.
	</DD>


<P>Refining description of NTX file.</DL>
1997-01-27
<DL>
	<DD>
		Description of .MEM (Memory index file) and .NTX (Clipper Index File).
	</DD>

	<P>Description of Database Container in Visual FoxPro

	<P>More references and various minor changes in text.
</DL>

1997-01-09
<DL>
	<DD>
		Description of .MDX (Multiple index file) - This seems to be a mistake :-(
	</DD>
</DL>


1996-11-27
<DL>
<DD>
Document converted to HTML</DD>
</DL>
1996-11-19
<DL>
<DD>
Minor fixes:</DD>


<P>Elements in Field Descriptor Array are exact 32 B long.

<P>Typing error in data type Float.

<P>"What to check on opening a .DBF file" added.</DL>
1996-10-18
<DL>
<DD>
Chapter on read/write locks using share by Phil Barnett (philb@iag.net)</DD>
</DL>
1996-10-15
<DL>
<DD>
Change in description of structure of index files.</DD>


<P>Major mistake! The previous version described the structure for dBASE
II index files.
<BR>Only excuse: This mistake was made by several of my sources :-(</DL>
1996-10-03
<DL>
<DD>
First public version of this document (as far as I remember :-)</DD>
</DL>

<HR>

<P><A NAME="REF_LIST"></A>
<H1><A HREF="#INDEX">REFERENCE LIST</A></H1>

These references describe, where I found the documents - not where they are now.
If you find dead links - please keep me informed.
<OL>
<LI><B>Bachmann, Erik:</B></LI>

<P><I>Xbase : File format description</I> / Erik Bachmann. - Roskilde, Denmark
: Clickety Click Software, 1996-1998. - aprox. 38 pg. ; ASCII text file / HTML document

<P>URL: <A HREF="http://www.e-bachmann.dk/docs/xbase.html">http://www.e-bachmann.dk/docs/xbase.html</A>
<IR>or
<IR>
<P>URL: <A HREF="http://www.e-bachmann.dk/docs/xbase.html">http://www.e-bachmann.dk/docs/xbase.txt 
(ASCII Text)</A>

<P>&nbsp;<P><LI><B>Born, G&uuml;nter:</B></LI>

<P><I>The File Formats Handbook</I> / G&uuml;nter Born. - London : Thomson, 1995.
- 1274 pg. - ISBN 1-85032-117-5

<P>&nbsp;<P><LI>
<I>CA-Clipper File Structures : Detailed Structure Information</I>. . - ( Xbase
Techniques. ; Computer Associates International, Inc. ). - 1993. - Pg.
7-10</LI>


<P>Reference from: Ben Engbers
<P>&nbsp;<P><LI>
<B>Castro, L.:</B></LI>


<P><I>Advanced programmer's guide featuring dBASE III and dBASE II</I> / L. Castro.
- Culver City, California, USA : Ashton-Tate, 1985. - 10+664 pg. - ISBN
0-912677-05-8

<P>Note: Literature list and Terminology list


<P>&nbsp;<P><LI>
<I>dBASE .DBF File Structure</I>. - (Borland Technical Documents ; TI12821)</LI>


<P>URL: <A HREF="bds.exe-getdoc+2821+Delphi.htm" tppabs="http://loki.borland.com/winbin/bds.exe?getdoc+2821+Delphi">http://loki.borland.com/winbin/bds.exe?getdoc+2821+Delphi</A>

<P>&nbsp;<P><LI>
<B>Dechert, Alan</B></LI>
<P>
<I>Fixing dBASE DOS applications for Year 2000 Compliance</I>
<P>
<P>URL: <A HREF="http://members.aol.com/adechert/y2kscan.htm">http://members.aol.com/adechert/y2kscan.htm</A>


<P>&nbsp;<P><LI>
<B>Eacker, Brad:</B></LI>


<P><I>DBF : A set of tools and library routines to manipulate xbase files</I>
/ Brad Eacker : Silicon Graphics, 1994. - Computer files ; C source ; ASCII
text

<P>Note: UUNET vol. 43 1994

<P>Abstract: UUnet : volume43 (Period: 08 Jun 94 - 24 Jul 94), dbf/part0[1-2]
: dbf - xbase manipulation package

<P>URL: <A HREF="ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part01.Z" tppabs="ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part01.Z">ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part01.Z</A>
<P>URL: <A HREF="ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part02.Z" tppabs="ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part02.Z">ftp://ftp.uu.net/usenet/comp.sources.misc/volumen43/dbf/part02.Z</A>
<P>&nbsp;<P><LI>
<I>Err : "Not a Database File"</I>. - (Microsoft Knowledge Base. ; Article Q98743)</LI>


<P>URL: <A HREF="http://support.microsoft.com/support/kb/articles/q98/7/43.asp">http://support.microsoft.com/support/kb/articles/q98/7/43.asp</A>


<P>&nbsp;<P><LI>
<I>General Format of .dbf files in Xbase Language</I>. - (Multisoft GmbH ; 1996)</LI>


<P>URL: <A HREF="http://www.fship.com/pub/multisoft/flagship/docu/dbfspecs.txt">http://www.fship.com/pub/multisoft/flagship/docu/dbfspecs.txt</A>
<P>&nbsp;<P><LI>
<B>Gmelch, Rasca:</B></LI>


<P><I>libdbf : simple routines for accessing xbase data files</I> / Rasca Gmelch.
- Berlin, 1996. - Computer files ; C source ; ASCII text

<P>URL: 
URL: <A HREF="http://www.komm.hdk-berlin.de/%7Erasca/dbflib/">http://www.komm.hdk-berlin.de/~rasca/dbflib/</A>
<!---A HREF="URL: http://home.pages.de/~rasca/dbflib/">http://home.pages.de/~rasca/dbflib/</A--->

<!---<P>or

<P>URL: <A HREF="http://www.komm.hdk-berlin.de/home/rasca/dbflib-0.6/index.html">http://www.komm.hdk-berlin.de/home/rasca/dbflib-0.6/index.html</A>
--->
<P>&nbsp;<P><LI>
<B>Hogan, T.:</B></LI>


<P><I>The Programmers's PC sourcebook</I> : Reference tables for IBM PCs and compatibles,
PS/2 systems, EISA-based systems, MS-DOS operating system through version
5, Microsoft Windows through version 3 : Hundred of new charts and tables
/ T. Hogan. - Redmond, Washington, USA : Microsoft Press, 1991. - Multiple
pagination. - ISBN 1-55615-321-X

<P>&nbsp;<P><LI><B>Kunkel, Gary</B></LI>
<p>
<I>Xbase DBMS</I> / Gary Kunkel
<P>
This product provides C and C++ programmers a class and function library
for manipulating Xbase type datafiles and indices.
<BR>
XBase DBMS currently includes routines to support multi-user access for
.DBF databases, fields, Dbase IV memo fields (variable length fields),
dates, record and file locking and indexes (.NDX). There is also an HTML
user interface class which works well with the Apache Web Server. Future
releases will support filters, enhanced .MDX index files, transaction
support, Dbase III memo fields, a client server configuration, secure
data options and other enhancements requesteed by anyone using this
library. 

<P>URL: <A HREF="http://www.startech.keller.tx.us/xbase/xbase.html">
http://www.startech.keller.tx.us/xbase/xbase.html</A>


<P>&nbsp;<P><LI><I>How to Modify the Table Header from FoxPro</I>. - (Microsoft Knowledge Base.
; Article Q139758 ; )</LI>

<P>URL: <A HREF="http://support.microsoft.com/support/kb/articles/q139/7/58.asp">http://support.microsoft.com/support/kb/articles/q139/7/58.asp</A>


<P>&nbsp;<P><LI>OOxBase (Version 2.10) - A SOM Interface To dBase (OS/2) (BETA)</I>. - (American Coders, LTD.)</LI>
<P>URL: <A HREF="http://www.americancoders.com/">http://www.americancoders.com/</A>



<P>&nbsp;<P><LI><B>Pazdziora, Jan</B></LI>
<P><I>DBD::XBase : Module for dealing with XBase files</I>
<BR>
Package DBD::XBase contains module XBase that can read and write dbf and
dbt file, and also alpha release of DBI driver, that will be further
extended to support everything required by DBI 0.92. 

<P>URL:  <A HREF="http://www.fi.muni.cz/%7Eadelton/perl/">http://www.fi.muni.cz/~adelton/perl/</A>
<P>Author Address: <A HREF="mailto:adelton@fi.muni.cz">adelton@fi.muni.cz</A>




<P>&nbsp;<P><LI><B>Pereira, Pratap</B></LI>
<P><I>Xbase.pm v. 1.07 : a module for perl 5</I>
<P>Author Source: <A HREF="http://www.best.com/%7Epereira">http://www.best.com/~pereira</A>
<P>Author Address: pereira@best.com
<P>This module seems to be unsupported. Try: Jan Pazdziora's "Module for dealing with XBase files".



<P>&nbsp;<P><LI>RexxBase (Version 2.21) - The dBase Database For REXX</I>. - (American Coders, LTD.)</LI>
<P>URL: <A HREF="http://www.americancoders.com/RexxBase.html">http://www.americancoders.com/RexxBase.html</A>


<P>&nbsp;<P><LI><B>Seay, Doug:</B></LI>
<P><I>CxBase : A Perl Library for manipulating Xbase files</I> / Doug Seay
<P>Author Source: <A HREF="http://www.e-bachmann.dk/archive/cxbase.zip">CxBase.zip</A>
<P>Author Address: seay@absyss.fr
<BR>It seems to be unsupported :-)
<DIR>
<I>This package was former known as CodeBase, but the name was changed (by
me) to CxBase due to a violation on Sequiters copyright on the name
CodeBase.</I>
</DIR>


<P>&nbsp;<P><LI><B>Simpson, Alan:</B></LI>
<P><I>dBASE III PLUS : Programmer's Reference Guide</I> / Alan Simpson. - Almeda
: Sybex Inc., 1987. - 1029 pg. - ISBN 0-89588-301-5
<P>Abstract: Data file structure and memo file structure for xBase


<P>&nbsp;<P><LI><B>Spence, Rick:</B></LI>
<P><I>Clipper Programming Guide</I> / Rick Spence. - 2.nd edition. - Microtrend
Books, Slawson Communications, Inc. - ISBN 0-915391-41-4

<P>&nbsp;<P><LI><B>Stevens, A.:</B></LI>
<P><I>Turbo C : Memory-resistent utilities, screen I/O and programming techniques</I>
/ A. Stevens. - Portland, Origon, USA : MIS Press, 1987. - 10+315 pg. -
ISBN 0-943518-35-0
<P>Note: Video Windows and TSR utility programs


<P>&nbsp;<P><LI><B>Townsend, Carl:</B></LI>
<P><I>Mastering dBASE III : A Structured Approach</I> / Carl Townsend. - Berkeley
: Sybex Inc., 1985. - ISBN 0-89588-301-5
<P>Abstract: Data file structure and index file structure for xBase


<P>&nbsp;<P><LI><B>Walden, J.:</B></LI>
<P><I>File formats for popular PC software : A programmer's reference</I> / J.
Walden. - New York, New York, USA : Wiley, 1986. - 16+287 pg. - ISBN 0-471-83671-0


<P>&nbsp;<P><LI><B>WANG, Thomas:</B></LI>
<P><I>Transactional Locking</I>, Part 1 / Thomas Wang (wang@cup.hp.com)
<P>URL: <A HREF="http://www.concentric.net/%7ETtwang/tech/locks1.htm">http://www.concentric.net/~Ttwang/tech/locks1.htm</A>


<P>&nbsp;<P><LI><I>What FoxPro Checks When Opening a .DBF File</I>. - (Microsoft Knowledge Base.
; Article Q119763)</LI>
<P>URL: 
<!---
<A HREF="http://www.microsoft.com/kb/developr/fox/q119763.htm">http://www.microsoft.com/kb/developr/fox/q119763.htm</A>
--->
<A HREF="http://support.microsoft.com/support/kb/articles/q119/7/63.asp">http://support.microsoft.com/support/kb/articles/q119/7/63.asp</A>


<P>&nbsp;<P><LI><B>WHITE, Gary:</B></LI>
<P><I>Some dBASE Stuff</I> / Gary White 
<P>

This is my dBASE stuff.  It ranges from old stuff for the DOS
versions of dBASE to new stuff for Visual dBASE version 7. 
There's even some stuff that's non-version-specific.   You'll also
find links to some other very good sites.  Don't forget the FAQ
(Frequently Asked Questions), which is included in a site search. 

<P>
<P>URL: <A HREF="http://www.apptools.com/dbase/index.html">http://www.apptools.com/dbase/index.html</A>




<P>&nbsp;<P><LI><I>White Paper on CodeBase 6, xBASE technology, and Sequiter's OLE DB development
plan</I>. - (Sequiter Software)</LI>
<P>URL: <A HREF="http://www.sequiter.com/papers/wpcbase6.htm">
http://www.sequiter.com/papers/wpcbase6.htm</A>



<P>&nbsp;<P><LI>xBaseJ - Java Objects To Read and Write to dBase Files</I>. - (American Coders, LTD.)</LI>
<P>URL: <A HREF="http://www.americancoders.com/xBaseJ.html">http://www.americancoders.com/xBaseJ.html</A>


</OL>

<HR>
<CENTER></CENTER>

<CENTER><BLINK>END OF FILE</BLINK></CENTER>

<HR>
</BODY>
</HTML>
